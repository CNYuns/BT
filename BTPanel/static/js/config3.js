import{B as a}from"./index119.js?v=1764728423";import{k_ as e,ak as s,E as t,k$ as o,b as i}from"./utils-lib.js?v=1764728423";import{u as n}from"./useMethod9.js?v=1764728423";import{c as r,r as l,I as d,x as m,y as p,A as c,J as u,z as x,e as y,R as f}from"./base-lib.js?v=1764728423";import"./ace.js?v=1764728423";import"./__commonjsHelpers__.js?v=1764728423";import"./validator.js?v=1764728423";import"./index110.js?v=1764728423";import"./column.js?v=1764728423";import"./index107.js?v=1764728423";const h={class:"p-16px"},j=r({__name:"config",props:{compData:{}},setup(r,{expose:j}){const g=i(),v=r,{row:b}=v.compData,_=l(""),w=l("utf-8"),{loading:C,setLoading:k}=n(),S=(a={readonly:!1,theme:"chrome"})=>({mode:"ace/mode/nginx",theme:t.value?"ace/theme/clouds_midnight":"ace/theme/".concat(a.theme),wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:a.readonly,fontSize:"12px"});return(async()=>{try{k(!0);const{data:a}=await e({service:b.key});s(a)&&(_.value=a.data.data,w.value=a.data.encoding)}finally{k(!1)}})(),j({onConfirm:async a=>{const{data:e}=await o({service:b.key,data:_.value});g.request(e),e.status&&a()}}),(e,s)=>{const t=d("bt-loading");return m(),p("div",h,[s[1]||(s[1]=c("span",{class:"my-[4px] text-secondary"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),u(y(x(a),{class:"!h-[550px] my-[12px] rounded-base",modelValue:x(_),"onUpdate:modelValue":s[0]||(s[0]=a=>f(_)?_.value=a:null),id:"mailConfigContent",editorOption:S()},null,8,["modelValue","editorOption"]),[[t,x(C)]])])}}});export{j as default};
