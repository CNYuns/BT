import{Q as s,p as e,N as a}from"./utils-lib.js?v=1764656280";import{getWebhookLogs as t,cleanWebhookLogs as i}from"./site.js?v=1764656280";import{_ as n}from"./index124.js?v=1764656280";import{c as r,r as o,v as l,I as m,J as c,z as u,x as d,y as g,A as _,e as f,C as p,D as j}from"./base-lib.js?v=1764656280";import{u as x}from"./useStore4.js?v=1764656280";import"./__commonjsHelpers__.js?v=1764656280";const b={class:"h-full"},h={class:"mb-[10px]"},v={class:"flex"},y=r({__name:"index",setup(r,{expose:y}){const{siteInfo:S}=x(),k=o(!1),C=o(""),q=async()=>{s({loading:k,request:t({git_manager_id:S.value.git_manager.id}),data:{msg:[String,C]}})},w=async()=>{await e({title:"清空日志",content:"您确定要清除日志吗？"}),s({loading:"正在清空日志，请稍后...",request:i({git_manager_id:S.value.git_manager.id}),message:!0,success:()=>q()})};return l(q),y({init:q}),(s,e)=>{const t=a,i=m("bt-loading");return c((d(),g("div",b,[_("div",h,[f(t,{type:"primary",onClick:q},{default:p(()=>[...e[0]||(e[0]=[j("刷新日志",-1)])]),_:1}),f(t,{onClick:w},{default:p(()=>[...e[1]||(e[1]=[j("清空日志",-1)])]),_:1})]),_("div",v,[f(n,{content:u(C),isHtml:!0,fullScreen:{title:"全屏查看[Webhook]日志",onRefresh:q},style:{height:"56rem",width:"99.5%"}},null,8,["content","fullScreen"])])])),[[i,u(k)]])}}});export{y as default};
