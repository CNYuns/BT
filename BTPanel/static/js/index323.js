import{_ as a}from"./index109.js?v=1764728423";import{i7 as e,Q as s,M as l,ck as r,k as t,l as o}from"./utils-lib.js?v=1764728423";import{c as n,r as i,v as d,I as u,x as m,y as p,e as c,C as f,z as v,R as _,Q as j,D as y,J as I,H as b}from"./base-lib.js?v=1764728423";import{aT as P,aU as g,aV as w}from"./firewall.js?v=1764728423";import{u as x}from"./column.js?v=1764728423";import"./__commonjsHelpers__.js?v=1764728423";import"./index110.js?v=1764728423";const k=n({__name:"index",setup(n){const k=i(""),V=i(!1),h=i(),q=async()=>{await s({loading:V,request:P(),data:[Array,h]})},C=async()=>k.value?r(k.value)?(await s({loading:"正在添加IP地址，请稍后...",request:g({ip:k.value}),message:!0}),k.value="",void q()):l.error("请输入正确的IP地址"):l.error("请输入IP地址"),H=[{label:"名称",prop:"address"},{label:"封锁时间",prop:"end",render:a=>0==a.end?"永久封禁":e(a.end-a.start)},x([{onClick:async a=>{await s({loading:"正在解封IP地址，请稍后...",request:w({ip:a.address}),message:!0}),q()},title:"立即解封",width:70}])];return d(()=>q()),(e,s)=>{const l=t,r=b,n=o,i=a,d=u("bt-loading");return m(),p("div",null,[c(i,null,{"header-left":f(()=>[c(l,{modelValue:v(k),"onUpdate:modelValue":s[0]||(s[0]=a=>_(k)?k.value=a:null),placeholder:"IP地址",onKeyup:j(C,["enter","native"])},null,8,["modelValue"]),c(r,{class:"!ml-[.4rem]",type:"primary",onClick:C},{default:f(()=>[...s[1]||(s[1]=[y(" 添加 ",-1)])]),_:1})]),content:f(()=>[I(c(n,{ref:"table",column:H,data:v(h),description:"封锁IP列表为空"},null,8,["data"]),[[d,v(V)],[d,"正在加载封锁IP列表，请稍后...","title"]])]),popup:f(()=>[...s[2]||(s[2]=[])]),_:1})])}}});export{k as default};
