!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return i(s,"_invoke",function(n,r,a){var o,u,i,l=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,u=0,i=e,p.n=n,c}};function d(n,r){for(u=n,i=r,t=0;!f&&l&&!a&&t<s.length;t++){var a,o=s[t],d=p.p,y=o[2];n>3?(a=y===r)&&(i=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(u=0,p.v=r,p.n=o[1]):d<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(a||n>1)return c;throw f=!0,r}return function(a,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),u=s,i=y;(t=u<2?e:i)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,i)):p.n=i:p.v=i);try{if(l=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(f=p.n<0)?i:n.call(r,p))!==c)break}catch(t){o=e,u=1,i=t}finally{l=1}}return{value:t,done:f}}}(n,a,o),!0),s}var c={};function l(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),d=f.prototype=l.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,i(d,"constructor",f),i(f,"constructor",s),s.displayName="GeneratorFunction",i(f,a,"GeneratorFunction"),i(d),i(d,a,"Generator"),i(d,r,function(){return this}),i(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:y}})()}function i(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}i=function(e,t,n,r){function o(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},i(e,t,n,r)}function c(e,t,n,r,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function u(e){c(o,r,a,u,i,"next",e)}function i(e){c(o,r,a,u,i,"throw",e)}u(void 0)})}}System.register(["./base-lib-legacy.js?v=1764656280","./useController-legacy5.js?v=1764656280","./ssl-legacy.js?v=1764656280","./site-legacy.js?v=1764656280","./utils-lib-legacy.js?v=1764656280","./useController-legacy15.js?v=1764656280","./useStore-legacy4.js?v=1764656280","./useStore-legacy12.js?v=1764656280","./__commonjsHelpers__-legacy.js?v=1764656280","./column-legacy.js?v=1764656280","./index-legacy111.js?v=1764656280","./useController-legacy6.js?v=1764656280","./validator-legacy.js?v=1764656280","./index-legacy108.js?v=1764656280","./useMethod-legacy5.js?v=1764656280","./index-legacy110.js?v=1764656280","./useController-legacy4.js?v=1764656280"],function(e,n){"use strict";var r,o,i,c,s,f,p,d,y,v,b,m,g,h,j,_,S,O,w,k,P,x,C,T,A,E,D,I,N,G,L,R,V,B,F,z,U,q;return{setters:[function(e){r=e.c,o=e.s,i=e.r,c=e.x,s=e.y,f=e.e,p=e.C,d=e.z,y=e.R,v=e.D,b=e.J,m=e.F,g=e.b1,h=e.O,j=e.A,_=e.B,S=e.K,O=e.S,w=e.G,k=e.ak,P=e.aj,x=e.ad,C=e.am,T=e.an,A=e.ab},function(e){E=e.u},function(e){D=e.v},function(e){I=e.setSslInfo},function(e){N=e.Q,G=e.b,L=e._},function(e){R=e.a7,V=e.a8,B=e.a9,F=e.aa},function(e){z=e.u},function(e){U=e.S,q=e.u},null,null,null,null,null,null,null,null,null],execute:function(){var n={class:"p-[16px]"},M={style:{float:"left"}},H={key:0,class:"leading-[2.4rem] text-base ml-[10rem] mt-4"},J=r({__name:"deploy-confirm",props:{compData:{default:{oid:"",title:"",domainName:[],cert_type:"",key:"",csr:"",index:"",siteName:""}}},setup:function(e,r){var L=r.expose,J=z(),K=J.siteInfo,Q=J.siteType,$=J.isRefreshList,W=o(E()).isRefreshLocalList,X=U().setBusSslDeployEvent,Y=q(),Z=Y.isRefreshSSL,ee=Y.isRefreshBtSSL,te=Y.isRefreshLetSSL,ne=Y.jumpSslTabEvent,re=e.compData,ae=re.oid,oe=re.domainName,ue=re.title,ie=re.cert_type,ce=re.key,le=re.csr,se=re.index,fe=(re.siteName,"bt"==ie||"business"==ie),pe=G(),de=i({target_id:""}),ye=i("direct"),ve=function(){var e=l(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:if(ye.value=t,!Object.keys(be.value).length){e.n=1;break}return e.a(2);case 1:if("third"!==t){e.n=2;break}return e.n=2,N({loading:"正在获取第三方部署列表，请稍后...",request:D({p:1,limit:-1}),data:{data:Array,status:[Boolean,"data.length"]},success:function(e){be.value=e.data}});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),be=i([]),me=function(){var e=l(u().m(function e(t){var n,r,o,i;return u().w(function(e){for(;;)switch(e.n){case 0:if("third"!==ye.value||de.value.target_id){e.n=1;break}return pe.error("请选择部署目标"),e.a(2);case 1:if("direct"!==ye.value){e.n=7;break}o=ie,e.n="business"===o?2:"bt"===o?3:"le"===o?4:5;break;case 2:case 5:return e.a(2,he());case 3:return e.a(2,ge());case 4:return e.a(2,R({index:se},!0,K.value.name));case 6:e.n=14;break;case 7:n={},i=ie,e.n="business"===i?8:"bt"===i?9:"le"===i?10:11;break;case 8:case 11:return n={oid:ae},e.a(3,12);case 9:return n={key:ce,cert:le},e.a(3,12);case 10:return n={index:se},e.a(3,12);case 12:return e.n=13,V(a(a({},n),{},{target_id:de.value.target_id}),je[ie]);case 13:return r=e.v,pe[r.status?"success":"error"](r.msg),e.a(2,r.status);case 14:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=l(u().m(function e(){var t,n,r,a,o;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=pe.load("正在部署证书,请稍后..."),n=K.value.name,r=Q.value,a={default:{type:r,siteName:n,key:ce,csr:le}},e.n=1,N({loading:"正在部署证书，请稍后...",request:I(a[Q.value]||a.default,Q.value),message:!0});case 1:return o=e.v,je[ie](),o.status&&ne("currentCertInfo"),e.a(2,o.status);case 2:return e.p=2,e.v,e.a(2,!1);case 3:return e.p=3,t&&t.close(),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=l(u().m(function e(){var t,n,r,a,o;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=pe.load("正在部署证书,请稍后..."),n=K.value.name,r=Q.value,a={proxy:{oid:ae,site_name:n},docker:{oid:ae,site_name:n},default:{oid:ae,siteName:n}},e.n=1,X(a[r]||a.default);case 1:return o=e.v,je[ie](),o.status&&ne("currentCertInfo"),e.a(2,o.status);case 2:return e.p=2,e.v,e.a(2,!1);case 3:return e.p=3,t&&t.close(),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),je={business:function(){return Se()},bt:function(){return Oe()},le:function(){return _e()}},_e=function(){B(),$.value=!0,Z.value=!0,te.value=!0,W.value=!0},Se=function(){F(),B(),Z.value=!0,$.value=!0,W.value=!0},Oe=function(){B(),$.value=!0,Z.value=!0,ee.value=!0,W.value=!0};return L({onConfirm:me}),function(e,r){var a=k,o=P,u=x,i=C,l=T,E=A;return c(),s("div",n,[f(E,{model:d(de),class:"relative w-full","label-position":"right",size:"small",onSubmit:r[2]||(r[2]=O(function(){},["prevent"]))},{default:p(function(){return[f(u,{label:"部署类型",prop:"deploy_type"},{default:p(function(){return[f(o,{modelValue:d(ye),"onUpdate:modelValue":r[0]||(r[0]=function(e){return y(ye)?ye.value=e:null}),onChange:ve},{default:p(function(){return[f(a,{value:"direct"},{default:p(function(){return t(r[3]||(r[3]=[v("直接部署",-1)]))}),_:1}),f(a,{value:"third"},{default:p(function(){return t(r[4]||(r[4]=[v("第三方部署",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),b(f(u,{label:"部署目标",prop:"target_id"},{default:p(function(){return[f(l,{modelValue:d(de).target_id,"onUpdate:modelValue":r[1]||(r[1]=function(e){return d(de).target_id=e}),class:"!w-[33rem]",filterable:"","default-first-option":"",size:"default",placeholder:"请选择部署目标"},{default:p(function(){return[(c(!0),s(m,null,g(d(be),function(e){return c(),h(i,{key:e.id,label:"".concat(e.name," - ").concat(e.description),value:e.id},{default:p(function(){return[j("span",M,_("".concat(e.name," - ").concat(e.description)),1)]}),_:2},1032,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1},512),[[S,"third"===d(ye)]])]}),_:1},8,["model"]),"direct"===d(ye)&&d(fe)?(c(),s("div",H,[v(" 证书类型："+_(d(ue)),1),r[5]||(r[5]=j("br",null,null,-1)),v(" 证书支持域名："+_(d(oe).join("、")),1),r[6]||(r[6]=j("br",null,null,-1)),v(" 部署站点名："+_(d(K).name),1)])):w("",!0)])}}});e("default",L(J,[["__scopeId","data-v-512ae385"]]))}}})}();
