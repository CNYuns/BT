import{_ as s}from"./index123.js?v=1764728423";import{_ as l}from"./index423.js?v=1764728423";import{ak as a,x as e,e as t,_ as o}from"./utils-lib.js?v=1764728423";import{c as n,s as i,g as c,v as r,a8 as m,x as d,y as p,z as u,F as v,A as x,B as g,e as f,C as k,D as _,b1 as b,G as j}from"./base-lib.js?v=1764728423";import{bN as h}from"./validator.js?v=1764728423";import"./__commonjsHelpers__.js?v=1764728423";import"./index110.js?v=1764728423";import"./column.js?v=1764728423";import"./index107.js?v=1764728423";const w={class:"p-16px realTaskDialog"},y={class:"title"},C=["title"],D={class:"p-[1rem]"},H={class:"mt-[4px] flex justify-between items-center"},N={class:"flex"},T={class:"mr-[25px]"},z={class:"title"},A={class:"truncate max-w-[36rem]"},B={key:2,class:"wait"},F={class:"truncate"},G=["onClick"],I=o(n({__name:"index",props:{compData:{default:()=>({callback:()=>{}})}},emits:["close"],setup(o,{emit:n}){const I=o,L=h(),{taskData:W}=i(L),{getLog:$,cancel:q,$reset:E}=L,J=c(()=>W.value[0]||{log:"",name:"",shell:""});return r(()=>{$()}),m(()=>{var s,l;E(),null==(l=null==(s=I.compData)?void 0:s.callback)||l.call(s)}),(o,n)=>{var i,c,r,m,h;const I=t,L=l,$=s;return d(),p("div",w,[u(a)(u(J).log)?(d(),p(v,{key:0},[x("div",y,[x("span",{class:"truncate max-w-[36rem]",title:u(J).shell},"正在下载:"+g(u(J).shell),9,C),f(I,{onClick:n[0]||(n[0]=s=>u(q)(u(J)))},{default:k(()=>[...n[2]||(n[2]=[_("取消",-1)])]),_:1})]),x("div",D,[f(L,{strokeWidth:3,percentage:Number((null==(i=u(J).log)?void 0:i.pre)||0),showText:!1},null,8,["percentage"]),x("div",H,[x("div",N,[x("span",T,g(null==(c=u(J).log)?void 0:c.used)+" / "+g(u(e)(null==(r=u(J).log)?void 0:r.total)),1),x("span",null,"预计还要:"+g(null==(m=u(J).log)?void 0:m.time),1)]),x("span",null,g(null==(h=u(J).log)?void 0:h.speed)+"/s",1)])])],64)):(d(),p(v,{key:1},[x("div",z,[x("span",A,g("".concat(u(J).name,":").concat(u(J).shell)),1),f(I,{onClick:n[1]||(n[1]=s=>u(q)(u(J)))},{default:k(()=>[...n[3]||(n[3]=[_("取消",-1)])]),_:1})]),f($,{content:u(J).log,isHtml:!0,class:"max-h-[18rem] h-[18rem]"},null,8,["content"])],64)),u(W).length>1?(d(),p("div",B,[n[4]||(n[4]=x("div",{class:"title"},"等待执行任务",-1)),(d(!0),p(v,null,b(u(W).slice(1),s=>(d(),p("div",{class:"title item w-full !text-disabled items-center",key:s.id},[x("span",F,g("".concat(s.name,":").concat(s.shell)),1),x("span",{class:"svgtofont-el-close-bold text-danger cursor-pointer ml-1rem",onClick:l=>u(q)(s)},null,8,G)]))),128))])):j("",!0)])}}}),[["__scopeId","data-v-76fc3765"]]);export{I as default};
