!function(){var e=["document"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l(a.key),a)}}function l(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(n,a,r,i){var s=a&&a.prototype instanceof l?a:l,u=Object.create(s.prototype);return f(u,"_invoke",function(n,a,r){var i,l,s,u=0,c=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,o}};function m(n,a){for(l=n,s=a,t=0;!d&&u&&!r&&t<c.length;t++){var r,i=c[t],m=f.p,p=i[2];n>3?(r=p===a)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((r=n<2&&m<i[1])?(l=0,f.v=a,f.n=i[1]):m<p&&(r=n<3||i[0]>a||a>p)&&(i[4]=n,i[5]=a,f.n=p,l=0))}if(r||n>1)return o;throw d=!0,a}return function(r,c,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&m(c,p),l=c,s=p;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,s)):f.n=s:f.v=s);try{if(u=2,i){if(l||(r="next"),t=i[r]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(a,f))!==o)break}catch(t){i=e,l=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,r,i),!0),u}var o={};function l(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][a]?t(t([][a]())):(f(t={},a,function(){return this}),t),m=u.prototype=l.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=u,f(m,"constructor",u),f(u,"constructor",s),s.displayName="GeneratorFunction",f(u,r,"GeneratorFunction"),f(m),f(m,r,"Generator"),f(m,a,function(){return this}),f(m,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:p}})()}function f(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}f=function(e,t,n,a){function i(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},f(e,t,n,a)}function m(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){m(i,a,r,o,l,"next",e)}function l(e){m(i,a,r,o,l,"throw",e)}o(void 0)})}}System.register(["./base-lib-legacy.js?v=1764728423","./utils-lib-legacy.js?v=1764728423","./validator-legacy.js?v=1764728423","./index-legacy116.js?v=1764728423","./index-legacy110.js?v=1764728423","./index-legacy111.js?v=1764728423","./store-legacy.js?v=1764728423","./config-legacy.js?v=1764728423","./store-legacy2.js?v=1764728423","./column-legacy.js?v=1764728423","./store-legacy3.js?v=1764728423","./hooks-legacy.js?v=1764728423"],function(n,r){"use strict";var l,c,f,m,v,y,h,g,b,x,w,k,_,S,C,I,P,j,T,L,O,M,B,D,R,A,E,F,z,N,H,V,U,W,G,q,K,$,J,Z,Q,Y,X,ee,te,ne,ae,re,ie,oe,le,se,ue,ce,de,fe,me,pe,ve,ye,he,ge,be,xe,we,ke,_e,Se,Ce,Ie,Pe,je,Te,Le,Oe,Me,Be,De,Re,Ae,Ee,Fe,ze,Ne,He,Ve,Ue,We,Ge,qe,Ke,$e,Je,Ze,Qe,Ye,Xe,et,tt,nt,at,rt,it,ot,lt,st,ut,ct,dt,ft,mt,pt,vt,yt,ht,gt,bt,xt,wt,kt,_t,St,Ct,It,Pt,jt,Tt,Lt,Ot,Mt,Bt,Dt,Rt,At,Et,Ft,zt,Nt,Ht,Vt,Ut,Wt,Gt,qt,Kt,$t,Jt;return{setters:[function(e){l=e.c,c=e.r,f=e.t,m=e.v,v=e.a8,y=e.z,h=e.x,g=e.y,b=e.A,x=e.B,w=e.G,k=e.s,_=e.g,S=e.e,C=e.C,I=e.O,P=e.P,j=e.D,T=e.L,L=e.d,O=e.aA,M=e.at,B=e.as,D=e.ar,R=e.bB,A=e.w,E=e.j,F=e.aH,z=e.n,N=e.F,H=e.b1,V=e.bC,U=e.bD,W=e.p,G=e.o,q=e.R,K=e.ap,$=e.I,J=e.N,Z=e.J,Q=e.a1,Y=e.bz,X=e.bA,ee=e.H,te=e.aY,ne=e.K,ae=e.aZ,re=e.be,ie=e.aT,oe=e.M,le=e.b6,se=e.a3,ue=e.bE,ce=e.bc,de=e.bd,fe=e.bF,me=e.aK,pe=e.bG,ve=e.bH,ye=e.W,he=e.S,ge=e.by,be=e.bw,xe=e.bu,we=e.Q,ke=e.bI,_e=e.U,Se=e.ax,Ce=e.az,Ie=e.Y,Pe=e.Z,je=e.bJ,Te=e.am,Le=e.an,Oe=e.b},function(e){Me=e.u,Be=e.Q,De=e.eA,Re=e.n,Ae=e.H,Ee=e.eB,Fe=e._,ze=e.eC,Ne=e.w,He=e.a3,Ve=e.E,Ue=e.s,We=e.e,Ge=e.p,qe=e.eD,Ke=e.b,$e=e.af,Je=e.aH,Ze=e.T,Qe=e.av,Ye=e.eE,Xe=e.eF,et=e.az,tt=e.x,nt=e.aS,at=e.r,rt=e.q,it=e.eG,ot=e.eH,lt=e.l,st=e.eI,ut=e.aK,ct=e.b8,dt=e.eJ,ft=e.M,mt=e.eK,pt=e.i,vt=e.bW,yt=e.aw,ht=e.V,gt=e.f,bt=e.j,xt=e.z,wt=e.O},function(e){kt=e.g,_t=e.b,St=e.e,Ct=e.ak,It=e.al,Pt=e.am,jt=e.l,Tt=e.p,Lt=e.an,Ot=e.ao,Mt=e.ap,Bt=e.aq,Dt=e.ar,Rt=e.as,At=e.f,Et=e.at,Ft=e.au},function(e){zt=e._},function(e){Nt=e._},function(e){Ht=e._},function(e){Vt=e.H},function(e){Ut=e.a8},function(e){Wt=e.H},function(e){Gt=e.b,qt=e.u,Kt=e.o},function(e){$t=e.H},function(e){Jt=e.c}],execute:function(){var Zt={class:"icon-end-time voucher-logo"},Qt={class:"ml-[4px] font-bold text-[var(--bt-pro-sub-color)]"},Yt=l({__name:"index",setup:function(e){var t=c([]),n=Me(),a=n.payment,i=n.paymentVoucherType,o=n.aliyunEcsLtd,l=f(a.value).isGetCoupon,s=function(){var e=p(d().m(function e(){var n=arguments;return d().w(function(e){for(;;)switch(e.n){case 0:Be({request:De(n.length>0&&void 0!==n[0]?n[0]:{}),data:[Array,t]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(){o.value||Re({area:40,component:function(){return Ae(function(){return r.import("./index-legacy338.js?v=1764728423")},void 0,r.meta.url)},customClass:"voucherFetchView",compData:{isCoupon:t.value,isHome:!0}})},k=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:t=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1,t=Math.floor(t>0?t/1e3:t),Be({request:Ee({limit_time:t})}),l.value=!0;case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return m(function(){var e=Number(sessionStorage.getItem("voucherOpenTime"));if(-100!==e){if(e)e-Math.floor(Date.now()/1e3)<=0&&(l.value=!0,sessionStorage.removeItem("voucherOpenTime"),k());kt({promises:[s({type:i.value})],delay:3e3}),v(function(){i.value=0})}}),function(e,n){return y(t).length>0&&!y(l)&&!y(o)?(h(),g("div",{key:0,class:"flex items-center px-[1rem] py-[.4rem] mr-[8px] rounded-small recom-bg",onClick:u},[b("span",Zt,[b("span",Qt,"您有"+x(y(t).length)+"个优惠券待领取",1)])])):w("",!0)}}}),Xt=Fe(Yt,[["__scopeId","data-v-645e1f51"]]),en={class:"module-ui home-header"},tn={class:"home-header-left"},nn={class:"mr-[8px] flex items-center"},an={class:"cursor-pointer flex items-center mr-[4px] ml-[4px]"},rn=["title"],on={class:"block"},ln={class:"home-header-right"},sn=["title"],un={class:"flex items-center"},cn={class:"ml-2 text-xs text-info"},dn={class:"flex items-center"},fn={class:"flex items-center"},mn=l({__name:"index",setup:function(e){var t=Me(),n=t.payment,a=t.aliyunEcsLtd,i=(t.forceLtd,t.isHideAd),o=t.mainWidth,l=t.globalTheme,u=f(n.value).authType,c=L(function(){return Ae(function(){return r.import("./index-legacy339.js?v=1764728423")},void 0,r.meta.url)}),d=L(function(){return Ae(function(){return r.import("./index-legacy217.js?v=1764728423")},void 0,r.meta.url)}),p=Vt(),v=k(p),A=v.bindUser,E=v.systemInfo,F=v.panelInfo,z=v.panelVersion,N=_(function(){return ze.value}),H=function(){switch(N.value){case"auto":return"tools-adaptive-"+(Ve.value?"dark":"light");case"light":return"tools-light";case"dark":return"tools-dark"}return"tools-light"},V=function(e){Ue(e),l.value.theme.preset=e,Ut({data:JSON.stringify(l.value)})};m(function(){Ne()});var U=_(function(){return o.value<968}),W=_(function(){var e;return E.value.name?null===(e=E.value.name.split(" ")[0])||void 0===e?void 0:e.toLowerCase():""});return _(function(){return!a.value||"ltd"===n.value.authType}),function(e,t){var n=Ht,a=O,r=Nt,o=zt,l=Xt,f=We,m=M,v=B,k=D,_=R;return h(),g("div",en,[b("div",tn,[S(a,{width:"420","popper-class":"el-popover-shadow",trigger:"hover"},{reference:C(function(){return[b("div",nn,[S(n,{name:"tools-user",size:"26",class:"mr-[4px]"}),y(U)?w("",!0):(h(),g("span",{key:0,class:"user-phone",onClick:t[0]||(t[0]=function(){return y(_t)(y(A)?"切换宝塔账号":"绑定宝塔账号，享受更多服务")})},x(y(A)?y(A):"未绑定帐号，点击绑定"),1))])]}),default:C(function(){return[(h(),I(P(y(c))))]}),_:1}),S(r),S(a,{width:"280","popper-class":"el-popover-shadow"},{reference:C(function(){return[b("span",an,[S(n,{name:"system-"+y(W),size:"18",class:"mr-[4px]"},null,8,["name"]),b("span",null,x(y(E).name||"获取中"),1)])]}),default:C(function(){return[b("div",null,[b("span",{class:"!mb-4px inline-block max-w-[26rem] truncate",title:y(E).simpleName||"获取中"},"系统："+x(y(E).simpleName||"获取中"),9,rn),b("span",on," 持续运行："+x(y(F).runningDays||"获取中"),1)])]}),_:1}),y(i)?w("",!0):(h(),I(r,{key:0})),y(i)?w("",!0):(h(),I(a,{key:1,width:"580",disabled:"free"!==y(u),"show-arrow":!1,"popper-style":"padding: 0;border-radius: var(--el-border-radius-round);overflow: hidden;","popper-class":"el-product-state-popover"},{reference:C(function(){return[S(o,{"is-home":!0,"disable-pro":!0})]}),default:C(function(){return[(h(),I(P(y(d))))]}),_:1},8,["disabled"])),y(i)||y(U)?w("",!0):(h(),I(l,{key:2}))]),b("div",ln,[y(F).isBeta?(h(),I(f,{key:0,class:"mr-[16px] reset-link bug-feedback",href:"https://www.bt.cn/bbs/forum-39-1.html"},{default:C(function(){return s(t[8]||(t[8]=[j("[找Bug奖宝塔币]",-1)]))}),_:1})):w("",!0),y(U)?w("",!0):(h(),I(k,{key:1,trigger:"hover",placement:"bottom-end",onCommand:V},{dropdown:C(function(){return[S(v,null,{default:C(function(){return[S(m,{command:"auto",class:T({"is-active":"auto"===y(N)})},{default:C(function(){return[b("div",un,[S(n,{name:"tools-adaptive-"+("dark"===y(He)?"dark":"light"),size:"16",class:"mr-2"},null,8,["name"]),t[9]||(t[9]=b("span",null,"自动",-1)),b("span",cn,"("+x("dark"===y(He)?"暗色":"亮色")+")",1)])]}),_:1},8,["class"]),S(m,{command:"light",class:T({"is-active":"light"===y(N)})},{default:C(function(){return[b("div",dn,[S(n,{name:"tools-light",size:"16",class:"mr-2"}),t[10]||(t[10]=b("span",null,"亮色",-1))])]}),_:1},8,["class"]),S(m,{command:"dark",class:T({"is-active":"dark"===y(N)})},{default:C(function(){return[b("div",fn,[S(n,{name:"tools-dark",size:"16",class:"mr-2"}),t[11]||(t[11]=b("span",null,"暗色",-1))])]}),_:1},8,["class"])]}),_:1})]}),default:C(function(){return[b("div",{class:"header-operation-icon",title:"auto"===y(N)?"自动切换主题":"light"===y(N)?"切换到暗色主题":"切换到亮色主题"},[S(n,{name:H(),size:"18",class:"hob-icon"},null,8,["name"])],8,sn)]}),_:1})),y(U)?w("",!0):(h(),I(a,{key:2,width:"1",placement:"bottom",trigger:"hover"},{reference:C(function(){return[b("div",{class:"header-operation-icon",onClick:t[1]||(t[1]=function(e){return y(p).jumpRouter("ui")})},[S(n,{name:"tools-theme",size:"18",class:"hob-icon"})])]}),default:C(function(){return[t[12]||(t[12]=b("div",{class:"text-small text-center w-full"},"打开界面设置",-1))]}),_:1})),y(U)?w("",!0):(h(),I(a,{key:3,width:"1",placement:"bottom",trigger:"hover"},{reference:C(function(){return[b("div",{class:"header-operation-icon",onClick:t[2]||(t[2]=function(e){return y(p).jumpRouter("alarm")})},[S(n,{name:"tools-alarm",size:"18",class:"hob-icon"})])]}),default:C(function(){return[t[13]||(t[13]=b("div",{class:"text-small text-center w-full"},"打开告警设置",-1))]}),_:1})),y(U)?w("",!0):(h(),I(a,{key:4,width:"20",placement:"bottom",trigger:"hover"},{reference:C(function(){return[b("div",{class:"header-operation-icon",onClick:t[3]||(t[3]=function(e){return y(St)({type:7,isNoRate:!0,isCard:!0})})},[S(n,{name:"tools-feedback",size:"18",class:"hob-icon"})])]}),default:C(function(){return[t[14]||(t[14]=b("div",{class:"text-small text-center w-full"},"打开需求反馈",-1))]}),_:1})),y(U)?w("",!0):(h(),I(r,{key:5})),b("span",{class:"versionInfo mx-[8px] bt-hover-link cursor-pointer",onClick:t[4]||(t[4]=function(){var e;return y(p).histVersionInfoDialog&&(e=y(p)).histVersionInfoDialog.apply(e,arguments)})}," v"+x((y(F).isBeta?"Beta ":"")+(y(z)||"获取中")),1),S(r),S(_,{class:"mr-[8px]","is-dot":"",hidden:1!==y(F).upgrade||y(F).hideBadge},{default:C(function(){return[b("span",{class:"bt-link header-operation-btn",title:"点击获取最新版面板程序",onClick:t[5]||(t[5]=function(){var e;return y(p).updateVersionDialog&&(e=y(p)).updateVersionDialog.apply(e,arguments)})},[S(n,{name:"tools-update",size:"18",class:"hob-icon"}),t[15]||(t[15]=b("span",null,"更新",-1))])]}),_:1},8,["hidden"]),b("span",{class:"bt-link header-operation-btn mr-[8px]",title:"修复面板会获取最新的面板代码程序，包含bug修复",onClick:t[6]||(t[6]=function(){var e;return y(p).onRepair&&(e=y(p)).onRepair.apply(e,arguments)})},[S(n,{name:"tools-repair",size:"18",class:"hob-icon"}),t[16]||(t[16]=b("span",null,"修复",-1))]),b("span",{class:"bt-link header-operation-btn",title:"点击可选择重启面板或重启服务器",onClick:t[7]||(t[7]=function(){var e;return y(p).restartSeverDialog&&(e=y(p)).restartSeverDialog.apply(e,arguments)})},[S(n,{name:"tools-restart",size:"18",class:"hob-icon"}),t[17]||(t[17]=b("span",null,"重启",-1))])])])}}}),pn=Fe(mn,[["__scopeId","data-v-eb3c6045"]]),vn=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchList=new Map;var t=Wt();this.refs=k(t),this.useHomeData()},t=[{key:"useRunCallback",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}(this.watchList.entries());try{for(t.s();!(e=t.n()).done;){var n=i(e.value,2),a=n[0],r=n[1];a in this.refs&&r(this.refs[a].value)}}catch(o){t.e(o)}finally{t.f()}}},{key:"useHomeData",value:(l=p(d().m(function e(){var t=this;return d().w(function(e){for(;;)switch(e.n){case 0:this.stopWatching=A(this.refs.isRefreshData,function(e){e&&(t.useRunCallback(),t.refs.isRefreshData.value=!1)},{immediate:!0});case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"useSetCallback",value:function(e,t){this.watchList.set(e,t)}},{key:"stopUseHomeData",value:function(){this.stopWatching&&this.stopWatching()}},{key:"unload",value:function(){this.watchList.size>0&&this.watchList.clear(),this.stopUseHomeData()}},{key:"getFirewallStatus",value:(a=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Re({area:45,component:function(){return Ae(function(){return r.import("./index-legacy340.js?v=1764728423")},void 0,r.meta.url)}});case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})}],t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,a,l}(),yn=new vn,hn=E("NOTICE-STORE",function(){var e=Me().panel,t=F(),n=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsed:"0",memNewTotal:"0",memNewRealUsedList:[],memNewTotalList:[]}),a=c([]),r=c(!1),i=c(!1),o=c(!1),l=c(!1),s=c([]),u=c([]),f=_(function(){return 8888===e.value.port&&!e.value.noticeIgnore.port}),m=_(function(){return!(window.location.protocol.indexOf("https")>=0||e.value.noticeIgnore.https)}),v=_(function(){return r.value||i.value||f.value||m.value||o.value||l.value});yn.useSetCallback("memory",function(e){n.value=e;var t=n.value,a=t.memTotal-t.memRealUsed;r.value=a<64}),yn.useSetCallback("diskUsage",function(e){u.value=e,g()}),yn.useSetCallback("disk",function(e){a.value=e,a.value.some(function(e){return parseInt(e.data.inodes[3])>90})?(l.value=!0,s.value=[],s.value=a.value.map(function(e){if(parseInt(e.data.inodes[3])>90)return e.data.path})):l.value=!1});var y=function(){var t=p(d().m(function t(n,a){var r,i;return d().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Ge({title:"忽略通知",content:"是否忽略".concat(a,"通知，不再提醒？")});case 1:return t.n=2,qe({name:n});case 2:r=t.v,i=r.data,e.value.noticeIgnore[n]=!0,Ke().request(i),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ge({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:Be({loading:"正在释放内存，请稍后...",request:Ct(),message:!0});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){u.value&&Number(u.value[2])<524288&&(o.value=!0)};return{noticeStatus:v,memoryStatus:r,usernameStatus:i,portStatus:f,httpsStatus:m,diskFullStatus:o,inodeFullStatus:l,inodePath:s,setNoticeStatus:y,checkFullDisk:g,onClear:h,editPortInfo:function(){window.localStorage.setItem("config-dialog","port"),t.push({path:"/config/common"})},jumpConfig:function(){window.localStorage.setItem("config-dialog","ssl"),t.push({path:"/config/common"})},jumpFiles:function(){t.push({path:"/files"})}}}),gn={key:0,class:"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]"},bn={class:"mr-16px"},xn=["title"],wn=l({__name:"index",setup:function(e){var t=hn(),n=k(t),a=n.noticeStatus,r=n.memoryStatus,i=n.usernameStatus,o=n.portStatus,l=n.httpsStatus,u=n.diskFullStatus,f=n.inodeFullStatus,v=n.inodePath,_=c(!1);return m(function(){t.checkFullDisk(),z(function(){var e=setInterval(p(d().m(function t(){var n;return d().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,$e(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),_.value=!0,clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)})}),function(e,n){var c=We,d=V,m=U;return h(),g("div",null,[y(a)?(h(),g("div",gn,[S(m,{class:"playTips",height:"5.6rem",direction:"vertical"},{default:C(function(){return[y(r)?(h(),I(d,{key:1},{default:C(function(){return[n[4]||(n[4]=b("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[5]||(n[5]=b("span",{class:"mr-[16px]"},"当前可用物理内存小于64M，这可能导致MySQL自动停止，站点502等错误，请尝试释放内存！",-1)),S(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:C(function(){return s(n[2]||(n[2]=[j("[ 不可忽略 ]",-1)]))}),_:1}),S(c,{onClick:y(t).onClear,class:"align-middle flex items-center",size:"1.4rem"},{default:C(function(){return s(n[3]||(n[3]=[j("[ 立即清理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),y(i)?(h(),I(d,{key:2},{default:C(function(){return[n[8]||(n[8]=b("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[9]||(n[9]=b("div",{class:"mr-[16px]"},"当前面板用户为admin,这可能为面板安全带来风险！",-1)),S(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:C(function(){return s(n[6]||(n[6]=[j("[ 不可忽略 ]",-1)]))}),_:1}),S(c,{onClick:y(It),class:"align-middle flex items-center",size:"1.4rem"},{default:C(function(){return s(n[7]||(n[7]=[j("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),y(o)?(h(),I(d,{key:3},{default:C(function(){return[n[12]||(n[12]=b("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[13]||(n[13]=b("div",{class:"mr-[16px]"},"当前面板使用的是默认端口[8888]，可能存在入侵风险，请到面板设置中修改面板端口！",-1)),S(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐修改面板端口",class:"align-middle mr-[16px]",size:"1.4rem",onClick:n[0]||(n[0]=function(e){return y(t).setNoticeStatus("port","面板端口")})},{default:C(function(){return s(n[10]||(n[10]=[j("[ 点击忽略 ]",-1)]))}),_:1}),S(c,{onClick:y(t).editPortInfo,target:"_self",class:"align-middle flex items-center",size:"1.4rem"},{default:C(function(){return s(n[11]||(n[11]=[j("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),y(l)?(h(),I(d,{key:4},{default:C(function(){return[n[16]||(n[16]=b("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[17]||(n[17]=b("div",{class:"mr-[16px]"},"警告！当前面板使用HTTP访问，可能存在被窃取敏感信息风险，请立即开启【面板SSL】。",-1)),S(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐开启面板SSL访问",class:"align-middle mr-[16px]",disabled:!0,size:"1.4rem",onClick:n[1]||(n[1]=function(e){return y(t).setNoticeStatus("https","面板SSL")})},{default:C(function(){return s(n[14]||(n[14]=[j("[ 点击忽略 ]",-1)]))}),_:1}),S(c,{onClick:y(t).jumpConfig,class:"align-middle flex items-center",size:"1.4rem"},{default:C(function(){return s(n[15]||(n[15]=[j("[ 立即处理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),y(u)?(h(),I(d,{key:5},{default:C(function(){return[n[19]||(n[19]=b("i",{class:"svgtofont-el-warning-filled mr-8px text-large"},null,-1)),n[20]||(n[20]=b("div",{class:"mr-16px"},"警告：检测到磁盘可用空间不足，无法访问面板数据库，请前往文件管理清理",-1)),S(c,{onClick:y(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:C(function(){return s(n[18]||(n[18]=[j("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),y(f)?(h(),I(d,{key:6},{default:C(function(){return[n[24]||(n[24]=b("i",{class:"svgtofont-el-warning-filled mr-8px text-large"},null,-1)),b("div",bn,[n[21]||(n[21]=j(" 警告：检测到磁盘【 ",-1)),b("div",{class:"inline-block",title:y(v).join("\n")},[(h(!0),g(N,null,H(y(v),function(e,t){return h(),g("span",{key:t},x(e),1)}),128))],8,xn),n[22]||(n[22]=j(" 】Inode使用率超过90%，可用空间不足，请前往文件管理清理 ",-1))]),S(c,{onClick:y(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:C(function(){return s(n[23]||(n[23]=[j("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0)]}),_:1})])):w("",!0),b("div",{id:"extension",class:T(y(_)?"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]":"")},null,2)])}}}),kn=Fe(wn,[["__scopeId","data-v-1b882d8e"]]),_n=n("H",E("HOME-STATE-STORE",function(){var e=Wt(),t=Me(),n=t.payment,a=t.push,i=f(n.value).authType,o=c(0),l=c(12),s=c(!1),u=c(!1),m=W("colSpan",6),v=W("diskColSpan",6),y=W("stateHeight","22rem"),h=W("displayMode","single"),g=c([]),b=c("loadPopover"),x=c(!1),w=c(!0),k=c(null),_=!1,C=c([]),I=c({one:0,max:0,five:0,fifteen:0}),P=c({occupy:"",framework:"",coresOccupy:[0,0,0],cpuNumber:0,logicCores:0,cores:0,process:[0,0]}),j=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsedList:[],memNewTotalList:[]}),T=c([]),L=G({memory:"success",cpu:"success",load:"success"}),O=c(null),M=c(!1),B=c(null),D=c(null),R=c(null),A=new Qe,E=G({type:"load",title:"负载",range:0}),F=G({type:"cpu",title:"CPU",range:0,desc:"获取中"}),z=G({type:"mem",title:"内存",range:0,desc:"0 / 0(MB)",disabled:!1});yn.useSetCallback("cpuTimes",function(e){T.value=[[{title:"用户级别的 CPU 时间百分比",name:"user",value:e.user},{title:'运行带有 "nice" 优先级的进程时使用的 CPU 时间百分比',name:"nice",value:e.nice}],[{title:"系统级别的 CPU 时间百分比",name:"system",value:e.system},{title:"空闲状态的 CPU 时间百分比",name:"idle",value:e.idle}],[{title:"等待 I/O 操作完成的 CPU 时间百分比",name:"iowait",value:e.iowait},{title:"处理硬件中断的 CPU 时间百分比",name:"irq",value:e.irq}],[{title:"处理软件中断的 CPU 时间百分比",name:"softirq",value:e.softirq},{title:"当前 CPU 被其他虚拟机偷取的CPU时间百分比",name:"steal",value:e.steal}],[{title:"运行虚拟机时使用的 CPU 时间百分比",name:"guest",value:e.guest},{title:'运行带有 "nice" 优先级的虚拟机时使用的CPU时间百分比',name:"guest_nice",value:e.guest_nice}]]}),yn.useSetCallback("load",function(e){I.value=e,N()}),yn.useSetCallback("disk",function(e){C.value=e});var N=function(){var e=I.value,t=e.one,n=e.max,a=parseInt(Math.round(t/n*100).toFixed(0)),r=a>100?100:a;E.range=r<0?0:r,L.load=r>=90?"danger":r>=80?"warning":"success"};yn.useSetCallback("cpu",function(e){var t,n,a,r;P.value=e,H(),t=P.value,n=t.cpuNumber,a=t.logicCores,r=t.cores,F.desc=n&&a&&r?"".concat(r,"核心"):"获取中",V()});var H=function(){var e=P.value.occupy;F.range=parseInt(e)||0,F.range>80?L.cpu="warning":F.range>90?L.cpu="danger":L.cpu="success"},V=function(){for(var e=[],t=0,n="核心 ",a="",r=0;r<P.value.coresOccupy.length;r++)if(t<2){if(t++,r===P.value.coresOccupy.length-1){n+="".concat(r+1," "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% "),e.push({name:n,value:a});break}n+="".concat(r+1," / "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% / "),P.value.coresOccupy.length%2==1&&r===P.value.coresOccupy.length-1&&e.push({name:n,value:a})}else t=0,n+="".concat(r+1),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"%"),e.push({name:n,value:a}),n="核心 ",a="";g.value=e};yn.useSetCallback("memory",function(e){j.value=e,U()});var U=function(){var e=j.value,t=e.memRealUsed,n=e.memTotal,a=e.memNewRealUsedList,r=e.memNewTotalList;if(!x.value){var i=parseInt((Math.round(t/n*1e3)/10).toFixed(0));L.memory=i>=80?"warning":i>=90?"danger":"success",z.type="mem",z.range=i,z.desc={used:null==a?void 0:a[0],used_unit:null==a?void 0:a[1],total:null==r?void 0:r[0],total_unit:null==r?void 0:r[1]}}},q=function(e){k.value&&clearInterval(k.value);var t=e.memRealUsed-e.memRealUsed,n=et(t)?t:tt(t);z.range=1,z.rangeText="已释放\n ".concat(n),setTimeout(function(){x.value=!1,z.rangeText="",z.disabled=!1,w.value=!0},1500)},K=function(){var e="";x.value=!0,w.value=!1,z.disabled=!0,k.value=setInterval(function(){var t=z.range;e="..."===e?".":"".concat(e,"."),z.rangeText="释放中".concat(e),t>0&&(t-=.2*t),(t=Number(t.toFixed(2)))<0&&(t=0),z.range=t},400)},$=function(){var e=p(d().m(function e(){var t,n;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,K(),e.n=1,Ct();case 1:t=e.v,n=t.data,q(n),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ge({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:$(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var t=p(d().m(function t(n,a){var r;return d().w(function(t){for(;;)switch(t.n){case 0:if(b.value=a,"ltd"===i.value){t.n=1;break}return t.a(2);case 1:return r=function(){var t=p(d().m(function t(){return d().w(function(t){for(;;)switch(t.n){case 0:if(_){t.n=2;break}return _=!0,t.n=1,e.getHomeProcessInfo();case 1:_=!1;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),O.value=setInterval(r,5e3),A.removePending({method:"post",url:"/monitor/process_management/specific_resource_load_type"}),t.n=2,r();case 2:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Je({sName:"task_manager"});case 1:t=e.v,t.data.setup?M.value=!0:M.value=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Y=c(),X=G({name:"",path:""}),ee=G({loading:!0,list:[],total:0}),te=function(e){oe(!0,e)},ne=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ge({title:"删除告警任务",isHtml:!0,icon:"warning-filled",iconColor:"warning",content:"删除后将不再告警此条任务，是否继续？"});case 1:return e.n=2,Be({loading:"正在删除告警任务，请稍后...",request:Ye({task_id:t.id}),message:!0,success:le});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=p(d().m(function e(t){var n,a;return d().w(function(e){for(;;)switch(e.n){case 0:return n=t.status,a=t.title,e.n=1,Ge({title:(n?"停用":"启用")+"告警任务【"+a+"】",content:"".concat(n?"停用":"启用","选中的告警任务后，该告警任务将").concat(n?"停止":"开启","告警，是否继续操作？"),icon:"warning-filled"});case 1:return e.n=2,Be({loading:"正在设置告警状态，请稍后...",request:Xe({task_id:t.id,status:n?0:1}),message:!0});case 2:return e.n=3,le();case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),re=[{title:"钉钉",type:"dingding"},{title:"飞书",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信",type:"weixin"},{title:"微信公众号",type:"wx_account"},{title:"短信通知",type:"sms"},{title:"自定义消息通道",type:"webhook"}],ie=c([{label:"标题",prop:"title"},Gt({event:ae,width:80,data:["已停用","已启用"]}),{label:"告警方式",width:140,showOverflowTooltip:!0,render:function(e){var t=[];return e.sender.forEach(function(e){var n=a.value.config.find(function(t){return t.id===e});if(null!=n&&n.sender_type){var r=re.find(function(e){return e.type===n.sender_type});null!=r&&r.title&&t.push("sms"===n.sender_type?r.title:n.data.title?n.data.title+"(".concat(r.title,")"):r.title)}}),S("span",{class:"truncate"},[t.join("、")])}},{label:"告警条件",render:function(e){var t=e.view_msg.match(/<span>(.*?)<\/span>/);return t?t[1]:""}},qt([{title:"编辑",onClick:te},{title:"删除",onClick:ne}])]),oe=function(e,t){Re({title:"进程告警",area:[80],btn:["保存","取消"],component:function(){return Ae(function(){return r.import("./index-legacy120.js?v=1764728423")},void 0,r.meta.url)},compData:{isEdit:e,row:t||{},diyProcessTemplate:!0,diyProcessTemplateTid:["60","61","62"],onRefresh:le}})},le=function(){var e=p(d().m(function e(){var t,n,a;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ze();case 1:n=e.v,a=n.data,ee.list=(null==a||null===(t=a.data)||void 0===t?void 0:t.filter(function(e){return["60","61","62"].includes(e.template_id)}))||[],ee.list.length>0||oe(!1),ee.loading=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{stateMainWidth:o,gutter:l,isBreakLines:s,isShowAllDisk:u,colSpan:m,diskColSpan:v,stateHeight:y,displayMode:h,cpuCoreDesc:g,statePopoverTimr:O,loadInfo:E,loadPopover:B,processAlarmShow:M,tagsType:L,load:I,cpu:P,loadInfoList:T,cpuInfo:F,cpuPopover:D,memoryInfo:z,memoryPopover:R,memory:j,disk:C,getProcessAlarm:Q,moveStatePopover:Z,removeStatePopover:function(){clearInterval(O.value)},onClearMemory:J,$reset:function(){A.reset(),clearInterval(O.value),clearInterval(k.value)},setPsFormRef:Y,setPsForm:X,onConfirmPs:function(e){Be({loading:"正在修改备注，请稍后...",request:Pt(X),message:!0,success:function(t){t.status&&e()}})},processAlarmTableColumn:ie,processTableData:ee,openProcessAlarm:oe,initAlarm:le,hoverType:b,isClearMemory:x,showMemoryDesc:w}})),Sn=n("a",E("HOME-STATE-POPOVER-STORE",function(){var e,t=Wt(),n=k(t),i=n.specificResource,o=n.diskQuota,l=Me(),s=l.payment,u=l.push,m=l.getAlarmData,v=f(s.value).authType,y=_n(),h=k(y).setPsForm,g=c(),b=c(),x=c(),w=null,_=[{desc:"运行堵塞",val:90,color:"#dd2f00"},{desc:"运行缓慢",val:80,color:"#ff9900"},{desc:"运行正常",val:70,color:"var(--el-color-primary)"},{desc:"运行流畅",val:30,color:"var(--el-color-primary)"}],C=c("show"),I=c("two"),P=G({loading:!0,list:[]}),j=function(){var e=p(d().m(function e(t,n){var a;return d().w(function(e){for(;;)switch(e.n){case 0:if(1===t.important){e.n=2;break}return a=n?"结束进程":"释放内存",e.n=1,Ge({type:"calc",title:a,content:"结束".concat(t.proc_name,"进程会导致").concat(t.explain.split("的进程")[0],"无法正常运行，是否结束?")});case 1:return e.n=2,Be({loading:"正在".concat(a,"，请稍后..."),request:Lt({pid:t.pid}),message:!0});case 2:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),T=c((null===(e=u.value)||void 0===e?void 0:e.alarmPopupData)||[]),L={load:{title:"负载",id:"22"},cpu:{title:"cpu",id:"21"},mem:{title:"内存",id:"23"},disk:{title:"磁盘",id:"20"}},O=c({});c();var M=function(){var e=p(d().m(function e(t){var n;return d().w(function(e){for(;;)switch(e.n){case 0:O.value=a(a({},t),{},{id:t.id||L[null===(n=t.type)||void 0===n?void 0:n.split("-")[0]].id}),Re({title:"告警设置",component:function(){return Ae(function(){return r.import("./alarm-config-legacy.js?v=1764728423")},void 0,r.meta.url)},area:60,btn:"保存",onConfirm:q,onCancel:function(){m()}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=p(d().m(function e(t,n){var a,r;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==n.id){e.n=1;break}M(n),e.n=5;break;case 1:if(e.p=1,a=t?"开启":"关闭",!!t){e.n=2;break}return e.n=2,Ge({title:"".concat(a,"告警"),content:"".concat(a,"告警后，将").concat(t?"":"不再","接收到该项的告警信息，是否继续操作？")});case 2:return r=R(n.type),e.n=3,Be({loading:"正在".concat(a,"告警，请稍后..."),request:Xe({task_id:r.id,status:t?1:0}),message:!0,success:m});case 3:e.n=5;break;case 4:e.p=4,e.v,n.flag=!t,m();case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){var t,n,a;switch(e){case"load":n="平均负载超过";break;case"mem":n="内存超过";break;case"cpu":n="平均CPU超过"}var r=A(e);return t=r.cycle,a=r.count,n||(n=r.text),rt(t)||rt(n)?"":"".concat(null!=e&&e.includes("disk")?"":"".concat(t,"分钟内")).concat(n).concat(a,"触发")},R=function(e){var t,n=L[e.split("-")[0]];return!!Array.isArray(T.value)&&(null===(t=T.value)||void 0===t?void 0:t.find(function(t){return null!=e&&e.includes("disk")?t.template_id===n.id&&t.task_data.project===e.split("-")[1]:t.template_id===n.id}))},A=function(e){var t,n,a,r=R(e);if(r){var i=r.task_data;t=i.cycle,a="".concat(i.count,"%"),e.includes("disk")&&i.project===e.split("-")[1]&&(n=2===i.cycle?"该磁盘用量超过":"该磁盘余量不足",a=2===i.cycle?"".concat(i.count,"%"):"".concat(i.count,"GB"))}return{cycle:t,text:n,count:a}},E=c(!1),F=c(),z=G({num:0,usageRate:0,give:[],option:{},type:"",selectOptions:[],typeDetection:"2",next_data:[]}),N=c(100),H=c([]),V=c([]),U=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ot();case 1:t=e.v,H.value=t.data.map(function(e){return{label:e.title,value:e.value}}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=p(d().m(function e(){var t,n,a;return d().w(function(e){for(;;)switch(e.n){case 0:U(),t=O.value,n=t.type,a=t.data,t.id,a?(z.usageRate=a.count,z.num=a.push_count,z.next_data=a.next_data||[],-1!==n.indexOf("disk")&&(z.typeDetection=a.cycle.toString()),z.give=a.module):(z.usageRate=80,z.num=3,-1!==n.indexOf("disk")&&(z.typeDetection="2"));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=p(d().m(function e(){var t,n,r,i,o,l,s,u;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,F.value.validate();case 1:return t=O.value,n=t.type,r=t.data,i=t.id,o=a(a({},r||{}),{},{type:n.includes("disk")?n.split("-")[0]:n,count:parseInt("".concat(z.usageRate)),cycle:n.includes("disk")?parseInt(z.typeDetection):5,project:n.split("-")[1]?n.split("-")[1]:"",next_data:z.next_data}),l={send_interval:0,time_range:[0,86399]},s={day_num:parseInt("".concat(z.num)),total:0},u={task_data:o,time_rule:l,number_rule:s,sender:z.give},e.n=2,Be({loading:"正在保存告警配置，请稍后...",request:it({task_data:JSON.stringify(u),template_id:i}),message:!0,success:function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m();case 1:D(n);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),K=c([{label:"磁盘路径",prop:"filesystem",render:function(e){return S("div",{class:"flex items-center"},[S("span",{class:"svgtofont-file-hdd mr-4px !text-medium align-text-bottom"},null),S("span",null,[e.filesystem])])}},{label:"总大小",prop:"size"}]),$=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:h.value.name=t.ps,h.value.path=t.path,Re({title:"设置磁盘【"+t.path+"】别名",area:45,component:function(){return Ae(function(){return r.import("./index-legacy341.js?v=1764728423")},void 0,r.meta.url)},btn:!0,onConfirm:y.onConfirmPs});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){if("0"===e)return 0;var t=e.match(/^(\d+(?:\.\d+)?)(?: )?([a-zA-Z]+)$/);if(!t)throw new Error("Invalid size format: ".concat(e));var n=parseFloat(t[1]),a=t[2].toUpperCase(),r=["B","KB","MB","G","GB","T","TB"].indexOf(a);if(-1===r)throw new Error("Invalid unit: ".concat(a));return n*Math.pow(1024,r)},Z=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:jt({pluginName:"disk_analysis",source:120,type:"ltd"}),nt("diskPath",t),nt("taskStatus","true");case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return{virtualRef:g,popover:b,popoverContent:x,chartColorActive:function(e,t){for(var n={},r=0;r<_.length;r++){var i=_[r];if(e>=i.val){n=a({},i);break}if(e<30){n=a({},_[_.length-1]);break}}return t&&(n.color="#dd2f00"),n.val=e,n},dirEvent:function(e,t){"None"!==t?(nt("Path",e),at.push({path:"/files"})):jt({name:"sysdisk"})},init:function(){w=new ResizeObserver(function(){b.value&&b.value.updatePopper()}),x.value&&w.observe(x.value)},$reset:function(){w&&x.value&&w.unobserve(x.value)},authType:v,specificResource:i,tableData:P,foldExpand:C,foldActive:I,useHomeTableColumn:function(e,t,n){return c([{label:"进程名称",minWidth:80,render:function(e){var t="备注：".concat(e.explain,"\n启动路径： ").concat(e.exe_path,"\n运行目录：").concat(e.cwd_path,"\n线程数量：").concat(e.num_threads);return S("span",{title:t},[e.proc_name])}},{label:t,prop:n,minWidth:70},{label:"操作",align:"right",fixed:"right",width:50,render:function(t){return S("span",{class:"cursor-pointer text-primary",onClick:function(){j(t,e)}},[1===t.important?"":"cpu_percent"===n?"结束":"释放"])}}])},openProcessAlarmDialog:function(){Re({title:"进程告警",area:["100","50"],component:function(){return Ae(function(){return r.import("./process-alarm-manage-legacy.js?v=1764728423")},void 0,r.meta.url)}})},openProduct:function(){Tt({sourceId:141})},push:u,devTaskList:T,openAlarmPopup:B,setAlarmDialog:M,createPushStatus:D,getCurrentTask:R,onConfirm:q,giveFormDisabled:E,giveFormRef:F,msgForm:z,maxCapacityAndUsageRate:N,nextOptions:H,options:V,alarmInfo:W,rowData:O,mountColumn:K,computedSpace:function(e,t){for(var n=["B","KB","MB","GB","TB"],a=J(e)-J(t),r=0;a>=1024&&r<n.length-1;)a/=1024,r++;return a=Math.round(100*a)/100,"".concat(a," ").concat(n[r])},setPsDialog:$,scanRubbishFile:Z,switchTypeDetection:function(){var e=O.value,t=e.type,n=e.data;e.id;z.typeDetection!==n.cycle&&("2"===z.typeDetection?z.usageRate=80:o.value.forEach(function(e){e.diskName===t.split("-")[1]&&(N.value=e.diskQuota,z.usageRate=parseInt((.2*e.diskQuota).toString()))}))}}})),Cn={class:"alarm"},In={class:"w-[21rem] ml-[0.8rem]"},Pn=Fe(l({__name:"alarm",props:{type:{},diskName:{}},setup:function(e){var t=e,n=_(function(){return t.type}),r=Sn(),i=k(r),o=i.push,l=i.devTaskList;A(function(){return o.value.alarmPopupData},function(e){l.value=e},{deep:!0,immediate:!0});var u=c(!1),d=_(function(){var e={type:n.value,data:!1,id:0,status:!1},t=r.getCurrentTask(n.value);if(t){var i,o=t.task_data;null!==(i=n.value)&&void 0!==i&&i.includes("disk")?(2===o.cycle?"".concat(o.count,"%"):"".concat(o.count,"GB"),u.value=!!t.status,e.status=!!t.status,e.data=a(a({},o),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id):(u.value=!!t.status,e.status=!!t.status,e.data=a(a({},o),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id)}return e});return A(function(){return d.value},function(e){u.value=e.status},{deep:!0,immediate:!0}),m(function(){}),function(e,t){var a=K,i=We;return h(),g("div",Cn,[t[4]||(t[4]=b("div",null,[b("span",null,"告警")],-1)),S(a,{size:"small",class:"ml-[0.8rem]",modelValue:y(u),"onUpdate:modelValue":t[0]||(t[0]=function(e){return q(u)?u.value=e:null}),onChange:t[1]||(t[1]=function(e){return y(r).openAlarmPopup(y(u),y(d))})},null,8,["modelValue"]),t[5]||(t[5]=b("div",{class:"switch"},null,-1)),S(i,{onClick:t[2]||(t[2]=function(e){return y(r).setAlarmDialog(y(d))})},{default:C(function(){return s(t[3]||(t[3]=[j("设置",-1)]))}),_:1}),b("span",In,x(y(r).createPushStatus(y(n))),1)])}}}),[["__scopeId","data-v-155cf61f"]]),jn={class:""},Tn={class:"flex justify-between w-full"},Ln={class:"px-[8px] text-secondary"},On={class:"mt-[10px] space-y-[1rem] mx-[8px] text-secondary"},Mn={class:"flex justify-between items-center w-full"},Bn={class:"px-[8px] text-secondary leading-[3rem] text-center"},Dn={class:"space-y-[1rem] text-secondary leading-[1.4rem] px-[0.8rem]"},Rn={class:"flex justify-between w-full"},An={class:"px-[8px] text-secondary leading-[3rem] text-center"},En={class:"mt-[8px] space-y-[1rem]"},Fn={key:0,class:"mb-1rem"},zn={class:"flex items-center justify-center flex-nowrap w-full"},Nn={class:"whitespace-nowrap"},Hn=l({__name:"popover-content",props:{loadType:{default:""},type:{default:""},processAlarmShow:{type:Boolean,default:!1}},setup:function(e,t){var n=t.expose,a=e,r=k(_n()).hoverType,i=Sn(),o=k(i),l=o.specificResource,u=o.authType,c=o.tableData,d=o.foldExpand,f=o.foldActive,m=_(function(){return-1!==a.type.indexOf("未挂载")}),p=_(function(){return"loadPopover"===r.value||"cpuPopover"===r.value}),v=_(function(){return i.useHomeTableColumn(p.value,p.value?"CPU占用率":"内存使用率",p.value?"cpu_percent":"memory_usage").value}),P=_(function(){return"memoryInfo"!==a.loadType}),L=_(function(){return"diskInfo"!==a.loadType}),O=_(function(){var e=a.loadType,t={one:"",two:"",three:""};return t.one="memoryInfo"===e?"内存信息":"基础信息","diskInfo"!==e?p.value?("loadInfo"===e?t.two="更多负载信息":"cpuInfo"===e&&(t.two="核心使用率"),t.three="CPU占用率top5的进程信息"):"memoryInfo"===e&&(t.two="内存信息",t.three="内存使用率top5的进程信息"):t.two="Inode信息",t});return A(function(){return l.value},function(e){"ltd"===u.value?(c.value.loading=!1,p.value?c.value.list=l.value.cpuProcess:c.value.list=l.value.memProcess):(c.value.loading=!1,c.value.list=[])},{deep:!0,immediate:!0}),A(function(){return u.value},function(e){"ltd"!==e&&(c.value.loading=!1,c.value.list=[])}),n({showTwo:P,showThree:L}),function(t,n){var r=Y,o=X,l=ee,p=We,k=lt,_=te,M=$("bt-loading");return h(),I(_,{shadow:"never",class:"card-popover !p-[8px]"},{default:C(function(){return[b("div",jn,[J(t.$slots,"button",{},void 0,!0)]),S(o,{class:"text-small",modelValue:y(d),"onUpdate:modelValue":n[0]||(n[0]=function(e){return q(d)?d.value=e:null}),accordion:!0},{default:C(function(){return[S(r,{ref:"base-info",name:"show"},{title:C(function(){return[b("div",Tn,[b("span",Ln,x(y(O).one),1)])]}),default:C(function(){return[b("div",On,[J(t.$slots,"base-info",{},void 0,!0)]),y(m)?w("",!0):(h(),g(N,{key:0},[n[2]||(n[2]=b("hr",{style:{width:"calc(100% - 16px)",margin:"12px auto","border-top":"1px solid var(--el-color-border-extra-light)"}},null,-1)),S(Pn,{type:e.type,class:"mx-[8px]"},null,8,["type"])],64))]}),_:3},512)]}),_:3},8,["modelValue"]),y(m)?w("",!0):(h(),I(o,{key:0,class:"text-small",modelValue:y(f),"onUpdate:modelValue":n[1]||(n[1]=function(e){return q(f)?f.value=e:null}),accordion:!0},{default:C(function(){return[y(P)?(h(),I(r,{key:0,name:"two"},{title:C(function(){return[b("div",Mn,[b("span",Bn,x(y(O).two),1),b("span",null,x("two"===y(f)?"收起":"展开"),1)])]}),default:C(function(){return[b("div",Dn,[J(t.$slots,"content-info",{},void 0,!0)])]}),_:3})):w("",!0),y(L)?(h(),I(r,{key:1,name:"three",class:T({"!mb-0":!y(P)})},{title:C(function(){return[b("div",Rn,[b("span",An,x(y(O).three),1),b("span",null,x("three"===y(f)?"收起":"展开"),1)])]}),default:C(function(){return[b("div",En,[b("div",null,[a.processAlarmShow?(h(),g("div",Fn,[S(l,{size:"small",onClick:y(i).openProcessAlarmDialog},{default:C(function(){return s(n[3]||(n[3]=[j("进程告警",-1)]))}),_:1},8,["onClick"])])):w("",!0),Z((h(),I(k,{column:y(v),data:y(c).list,"max-height":450},Q({_:2},["ltd"!==y(u)?{name:"empty",fn:C(function(){return[b("div",zn,[b("span",Nn,[n[5]||(n[5]=j("当前为企业版专享功能, ",-1)),S(p,{onClick:y(i).openProduct},{default:C(function(){return s(n[4]||(n[4]=[j("立即购买",-1)]))}),_:1},8,["onClick"])])])]}),key:"0"}:void 0]),1032,["column","data"])),[[M,y(c).loading]])])])]}),_:1},8,["class"])):w("",!0)]}),_:3},8,["modelValue"]))]}),_:3})}}}),Vn=Fe(Hn,[["__scopeId","data-v-fe406548"]]),Un={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Wn={class:"flex items-center"},Gn={class:"flex align-left flex-col"},qn={class:"flex items-center"},Kn=["title"],$n={class:"flex align-left flex-col"},Jn={class:"mb-[2px]"},Zn={key:0,class:"m-4x flex items-center"},Qn={class:"!my-[1rem]"},Yn={class:"!my-[1rem]"},Xn={class:"!my-[1rem]"},ea=l({__name:"disk-popover",props:{custom:{type:Boolean,default:!1},item:{default:[]}},setup:function(e){var t=e,n=Me().enterpriseRec,a=Sn(),r=k(a).mountColumn,i=_(function(){return"None"===t.item.data.path}),o=_(function(){var e="string"==typeof t.item.data.size?0:parseFloat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")));return e>=90?"danger":e>=80?"warning":"success"});return function(l,u){var c=ae,d=re,f=ee,m=ie,p=We,v=lt;return h(),I(Vn,{"load-type":"diskInfo",type:"disk-".concat(t.item.info.title)},{button:C(function(){return[y(i)?w("",!0):(h(),g(N,{key:0},[parseInt(t.item.data.inodes[3])>90?(h(),I(c,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):w("",!0),b("div",Un,[b("div",Wn,[u[2]||(u[2]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),S(d,{type:y(o)},{default:C(function(){return[j(x("容量占用".concat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")),"%")),1)]}),_:1},8,["type"])]),Z(S(f,{type:"primary",onClick:u[0]||(u[0]=function(e){return y(a).scanRubbishFile(t.item.info.title)})},{default:C(function(){return s(u[3]||(u[3]=[j("立即清理",-1)]))}),_:1},512),[[ne,y(n)]])])],64))]}),"base-info":C(function(){return[y(i)?(h(),I(v,{key:1,data:e.item.data.list,column:y(r)},null,8,["data","column"])):(h(),g(N,{key:0},[b("div",Gn,[b("div",qn,[b("div",{class:"block truncate max-w-[30rem] mb-[2px]",title:"挂载点：".concat(e.item.info.title,"\n备注：").concat(e.item.data.rname)},"挂载点： "+x(e.item.info.title+(e.item.data.rname?" (".concat(e.item.data.rname,")"):"")),9,Kn),S(m,{placement:"right",content:"点击设置备注"},{default:C(function(){return[b("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:u[1]||(u[1]=function(t){return y(a).setPsDialog({ps:e.item.data.rname||e.item.info.title,path:e.item.info.title})})})]}),_:1})]),b("span",null,x("共：".concat(e.item.data.size[0])+"，可用：".concat(e.item.data.size[2])+"，\t已用：".concat(e.item.data.size[1])),1)]),b("div",$n,[b("span",Jn," 文件系统："+x(e.item.data.filesystem),1),b("span",null," 类型："+x(e.item.data.type+"，系统占用：".concat(e.item.data.size[3])),1)]),"None"!==e.item.data.d_size?(h(),g("div",Zn,[b("span",null," 磁盘大小："+x(e.item.data.d_size),1),S(m,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:C(function(){return[b("span",null,[S(p,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:C(function(){return s(u[4]||(u[4]=[j("?",-1)]))}),_:1})])]}),_:1})])):w("",!0)],64))]}),"content-info":C(function(){return[b("p",Qn,"总数："+x(e.item.data.inodes[0]),1),b("p",Yn,"已用："+x(e.item.data.inodes[1]),1),b("p",Xn,"可用："+x(e.item.data.inodes[2]),1),b("p",{class:T(["!my-[1rem]",{"text-warning":parseInt(t.item.data.inodes[3])>90&&parseInt(t.item.data.inodes[3])<100,"text-danger":100===parseInt(t.item.data.inodes[3])}])}," 使用率："+x(e.item.data.inodes[3]+(e.item.data.inodes[3].includes("%")?"":"%")),3)]}),_:1},8,["type"])}}}),ta=n("b",Fe(ea,[["__scopeId","data-v-8e7d8285"]])),na={class:"disk-info flex flex-col items-start flex-1 min-w-0"},aa={class:"disk-title text-default text-small md:text-2xl font-semibold mb-2 break-all truncate w-full"},ra={class:"disk-desc text-small text-gray-500 break-all mb-1 truncate w-full"},ia={class:"disk-progress ml-5 flex items-center justify-center"},oa={class:"flex flex-col items-center text-small"},la={class:"text-medium"},sa={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},ua={class:"flex items-center"},ca={class:"flex align-left flex-col"},da={class:"flex items-center"},fa=["title"],ma=["onClick"],pa={class:"flex align-left flex-col"},va={key:0,class:"m-4x flex items-center"},ya={class:"mb-[2px]"},ha={class:"!my-[1rem]"},ga={class:"!my-[1rem]"},ba={class:"!my-[1rem]"},xa={key:1,class:"p-4 text-gray-400"},wa=l({__name:"disk-popover-extends",props:{list:{default:function(){return[]}},isShowAllDisk:{type:Boolean,default:!1}},setup:function(e){var n=e,a=Me().enterpriseRec,r=Sn(),i=k(r).mountColumn,o=function(e,t){var n,a=null===(n=e.info)||void 0===n?void 0:n.range;return Number(a)>90?"var(--el-color-danger)":Number(a)>80?"var(--el-color-warning)":"var(--el-color-primary)"},l=function(e){var t="string"==typeof e.data.size?0:parseFloat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")));return t>=90?"danger":t>=80?"warning":"success"};return function(e,u){var c=le,d=ae,f=re,m=ee,p=ie,v=We,k=lt,_=O;return n.list&&n.list.length?(h(!0),g(N,{key:0},H(n.list,function(e,P){var L;return h(),I(_,{key:null!=e&&null!==(L=e.info)&&void 0!==L&&L.title?e.info.title+"-"+P:P,trigger:"hover",width:400,placement:"bottom-start",teleported:!1,"popper-class":"el-popover-shadow","show-after":100,"hide-after":0},{reference:C(function(){var a,r,i,l,s,d,f,m,p,v;return[b("div",{class:T([n.isShowAllDisk?"p-[1rem]":"px-[1rem]","flex items-center justify-between min-w-0 cursor-pointer transition-colors hover:bg-lighter rounded-medium"])},[b("div",na,[b("div",aa,x((null===(a=e.info)||void 0===a?void 0:a.title)||"-"),1),b("div",ra,["object"===t(null===(r=e.info)||void 0===r?void 0:r.desc)&&"disk"===(null===(i=e.info)||void 0===i?void 0:i.type)?(h(),g(N,{key:0},[b("span",{style:oe({color:null===(l=e.info)||void 0===l?void 0:l.color})},x(null===(s=e.info)||void 0===s||null===(s=s.desc)||void 0===s?void 0:s.used)+" "+x(null===(d=e.info)||void 0===d||null===(d=d.desc)||void 0===d?void 0:d.used_unit),5),u[0]||(u[0]=b("span",null," / ",-1)),b("span",null,x(null===(f=e.info)||void 0===f||null===(f=f.desc)||void 0===f?void 0:f.total)+" "+x(null===(m=e.info)||void 0===m||null===(m=m.desc)||void 0===m?void 0:m.total_unit),1)],64)):(h(),g(N,{key:1},[j(x((null===(p=e.info)||void 0===p?void 0:p.desc)||"-"),1)],64))])]),b("div",ia,[S(c,{"show-text":!0,type:"circle",width:50,"stroke-width":6,color:o(e),percentage:(null===(v=e.info)||void 0===v?void 0:v.range)||0},{default:C(function(t){var n=t.percentage;return[b("div",oa,[b("span",{class:"percentage-value",style:oe({color:o(e)})},[b("span",la,x(n),1),u[1]||(u[1]=j("% ",-1))],4)])]}),_:2},1032,["color","percentage"])])],2)]}),default:C(function(){return[e&&e.data&&e.info?(h(),I(Vn,{key:0,"load-type":"diskInfo",type:"disk-".concat(e.info.title),item:e},{button:C(function(){return["None"!==e.data.path?(h(),g(N,{key:0},[parseInt(e.data.inodes[3])>90?(h(),I(d,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):w("",!0),b("div",sa,[b("div",ua,[u[2]||(u[2]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),S(f,{type:l(e)},{default:C(function(){return[j(x("容量占用".concat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")),"%")),1)]}),_:2},1032,["type"])]),Z(S(m,{type:"primary",onClick:function(t){return y(r).scanRubbishFile(e.info.title)}},{default:C(function(){return s(u[3]||(u[3]=[j("立即清理",-1)]))}),_:1},8,["onClick"]),[[ne,y(a)]])])],64)):w("",!0)]}),"base-info":C(function(){return["None"!==e.data.path?(h(),g(N,{key:0},[b("div",ca,[b("div",da,[b("div",{class:"block truncate max-w-[30rem]",title:"挂载点：".concat(e.info.title,"\n备注：").concat(e.data.rname)},"挂载点： "+x(e.info.title+(e.data.rname?" (".concat(e.data.rname,")"):"")),9,fa),S(p,{placement:"right",content:"点击设置备注"},{default:C(function(){return[b("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:function(t){return y(r).setPsDialog({ps:e.data.rname||e.info.title,path:e.info.title})}},null,8,ma)]}),_:2},1024)]),b("span",null,x("共：".concat(e.data.size[0],"，可用：").concat(e.data.size[2],"，\t已用：").concat(e.data.size[1])),1)]),b("div",pa,[b("span",null," 文件系统："+x(e.data.filesystem),1),b("span",null," 类型："+x(e.data.type+"，系统占用：".concat(e.data.size[3])),1)]),"None"!==e.data.d_size?(h(),g("div",va,[b("span",ya," 磁盘大小："+x(e.data.d_size),1),S(p,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:C(function(){return[b("span",null,[S(v,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:C(function(){return s(u[4]||(u[4]=[j("?",-1)]))}),_:1})])]}),_:1})])):w("",!0)],64)):(h(),I(k,{key:1,data:e.data.list,column:y(i)},null,8,["data","column"]))]}),"content-info":C(function(){return[b("p",ha,"总数："+x(e.data.inodes[0]),1),b("p",ga,"已用："+x(e.data.inodes[1]),1),b("p",ba,"可用："+x(e.data.inodes[2]),1),b("p",{class:T(["!my-[1rem]",{"text-warning":parseInt(e.data.inodes[3])>90&&parseInt(e.data.inodes[3])<100,"text-danger":100===parseInt(e.data.inodes[3])}])}," 使用率："+x(e.data.inodes[3]+(e.data.inodes[3].includes("%")?"":"%")),3)]}),_:2},1032,["type","item"])):(h(),g("div",xa,"无数据"))]}),_:2},1024)}),128)):w("",!0)}}}),ka=Fe(wa,[["__scopeId","data-v-a44f2c40"]]),_a={class:"w-full"},Sa={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ca={class:"flex items-center"},Ia={class:"disk-body-list flex justify-between"},Pa={id:"load_one"},ja={class:"disk-body-list flex justify-between"},Ta={id:"load_cpu_times_num"},La={class:"disk-item-body",id:"other_info_html"},Oa={class:"table table-fixed whitespace-nowrap"},Ma=["title"],Ba=["title"],Da={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ra={class:"flex items-center"},Aa={class:"max-h-[8.2rem] overflow-y-auto"},Ea={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Fa={class:"flex items-center"},za={class:"flex align-left flex-col"},Na={class:"flex justify-between mb-[4px]"},Ha={class:"w-[50%]"},Va={class:"inline-flex justify-start"},Ua={class:"w-[50%]"},Wa={class:"inline-flex justify-start"},Ga={class:"flex justify-between mb-[4px]"},qa={class:"w-[50%]"},Ka={class:"inline-flex justify-start"},$a={class:"w-[50%]"},Ja={class:"inline-flex justify-start"},Za={class:"flex justify-between mb-[4px]"},Qa={class:"w-[50%]"},Ya={class:"w-[50%]"},Xa={class:"inline-flex justify-start"},er={class:"disk-grid grid gap-4 w-full box-border",style:{"grid-template-columns":"repeat(3, minmax(0, 1fr))"}},tr={class:"disk-grid grid gap-4 w-full box-border h-full",style:{"grid-template-columns":"repeat(auto-fill, minmax(220px, 1fr))"}},nr={key:1,class:"module-ui mb-[1.2rem]"},ar={class:"module-ui-body mt-[1.2rem]"},rr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},ir={class:"flex items-center"},or={class:"disk-body-list flex justify-between"},lr={id:"load_one"},sr={class:"disk-body-list flex justify-between"},ur={id:"load_cpu_times_num"},cr={class:"disk-item-body",id:"other_info_html"},dr={class:"table table-fixed whitespace-nowrap"},fr=["title"],mr=["title"],pr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},vr={class:"flex items-center"},yr={class:"max-h-[8.2rem] overflow-y-auto"},hr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},gr={class:"flex items-center"},br={class:"flex align-left flex-col"},xr={class:"flex justify-between mb-[4px]"},wr={class:"w-[50%]"},kr={class:"inline-flex justify-start"},_r={class:"w-[50%]"},Sr={class:"inline-flex justify-start"},Cr={class:"flex justify-between mb-[4px]"},Ir={class:"w-[50%]"},Pr={class:"inline-flex justify-start"},jr={class:"w-[50%]"},Tr={class:"inline-flex justify-start"},Lr={class:"flex justify-between mb-[4px]"},Or={class:"w-[50%]"},Mr={class:"w-[50%]"},Br={class:"inline-flex justify-start"},Dr="home_state_layout_cache",Rr=l({__name:"index",props:{mainWidth:{}},setup:function(e){var t=Me().globalTheme,n=L(function(){return"default"===t.value.home.overview_view?Ae(function(){return r.import("./main-legacy2.js?v=1764728423")},void 0,r.meta.url):Ae(function(){return r.import("./main-tile-legacy.js?v=1764728423")},void 0,r.meta.url)}),a=L(function(){return"default"===t.value.home.overview_view?Ae(function(){return r.import("./disk-main-legacy.js?v=1764728423")},void 0,r.meta.url):Ae(function(){return r.import("./disk-main-tile-legacy.js?v=1764728423")},void 0,r.meta.url)}),o=e,l=c(null),u=c(0);se(l,function(e){if(e[0]){var t=e[0].contentRect.width;u.value=t}});var f={diskCount:-1,containerWidth:-1},P=3,O=235,M=12,B=460,D=650,R=600,E=800,F=1200,z=_n(),V=k(z),U=V.stateMainWidth,W=(V.gutter,V.displayMode),G=V.stateHeight,q=V.isBreakLines,K=V.isShowAllDisk,$=V.cpuCoreDesc,J=V.statePopoverTimr,Z=V.loadInfo,Q=V.loadPopover,Y=V.processAlarmShow,X=V.tagsType,te=V.load,ne=V.cpu,ae=V.loadInfoList,ie=V.cpuInfo,le=V.cpuPopover,fe=V.memoryInfo,me=V.memoryPopover,pe=V.memory,ve=V.disk,ye=c(null);se(ye,function(e){var t=e[0].contentRect.width;U.value=t}),_(function(){return"single"===W.value&&q.value});var he=sessionStorage.getItem(Dr);if(he)try{var ge=JSON.parse(he);W.value=ge.displayMode,G.value=ge.stateHeight,q.value=ge.isBreakLines,K.value=ge.isShowAllDisk}catch(Ce){sessionStorage.removeItem(Dr)}var be=function(e,t,n,a){W.value=e,G.value=t,q.value=n,K.value=a;var r={displayMode:e,stateHeight:t,isBreakLines:n,isShowAllDisk:a};try{sessionStorage.setItem(Dr,JSON.stringify(r))}catch(Ce){}},xe=function(){var e=U.value||o.mainWidth||F,t=(ve.value||[]).length;if(f.diskCount!==t||f.containerWidth!==e){f.diskCount=t,f.containerWidth=e;var n=P,a=n+t,r=O,i=M;if(e>=r*a+i*(a-1))if((e-i*(a-1))/a>=r)return void be("single","18rem",!1,!1);if(t>=2&&t<=4)if(e>=r*n+B+i*n)if((e-B-i*n)/n>=r)return void be("stack","22rem",!1,!1);if(t>=5&&t<=6)if(e>=r*n+R+i*n)return void be("tile","22rem",!1,!1);if(t>6){var l=t-6;return e>=(n+l+1-1)*i+(n+l)*r+R?void be("hybrid","22rem",!1,!0):void be("tile","18rem",!0,!0)}be("single","18rem",!0,t>6)}},we=_(function(){return"".concat(te.value.one.toFixed(2)," / ").concat(te.value.five.toFixed(2)," / ").concat(te.value.fifteen.toFixed(2))}),ke=_(function(){var e=ne.value.process;return Array.isArray(e)?"".concat(e[0]," / ").concat(e[1]):"获取中"});ue(xe),A(function(){return J.value},function(e,t){clearInterval(e)},{immediate:!0}),A(function(){return[(ve.value||[]).length,U.value]},function(e){var t=i(e,2),n=t[0],a=t[1];if(0!==a&&(f.diskCount!==n||f.containerWidth!==a)){var r=P,o=O,l=M,s=B,u=R,c=r*o+(r-1)*l,d=a-c-l,m="single";if(n>Math.floor(d/(o+l))&&(m=n>=5?a>=c+u?"tile":"stack":a>=c+s?"stack":"single"),n>6&&"single"!==m){var p=n-6;(a-u-(r+p+1)*l)/(r+p)>=o&&(m="hybrid")}be(m,G.value,q.value,K.value),f.diskCount=n,f.containerWidth=a}},{immediate:!0,deep:!0}),m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:kt({promises:[z.getProcessAlarm],delay:1e3}),xe();case 1:return e.a(2)}},e)}))),v(z.$reset);var _e=function(e){var t=U.value||o.mainWidth||F,n=M;if(W.value,"single"===W.value){if(q.value){var a=P+(ve.value||[]).length,r=Se(t,a,n),i="calc((100% - ".concat(n*(r-1),"px) / ").concat(r,")");return{flex:"1 0 ".concat(i),minWidth:"".concat(O,"px")}}var l=P+(ve.value||[]).length,s=t-n*(l-1),u=Math.floor(s/l),c=Math.max(u,O);return{width:"".concat(c,"px"),minWidth:"".concat(O,"px"),flexShrink:0}}if("hybrid"===W.value){var d=(ve.value||[]).length-6,f=P+d,m=(f+1-1)*n;if("disk-area"===e)return{width:"".concat(R,"px"),minWidth:"".concat(R,"px"),flexShrink:0};var p=t-R-m,v=Math.floor(p/f),y=Math.max(v,O);return{width:"".concat(y,"px"),minWidth:"".concat(O,"px"),flexShrink:0}}if(q.value)return{width:"100%"};var h="stack"===W.value?B:R,g="stack"===W.value?D:E,b=P,x=O,w=n*b,k=t-x*b-w,_=Math.max(h,Math.min(k,g)),S=(t-_-w)/b;return S<x&&(S=x),"disk-area"===e?{width:"".concat(_,"px"),minWidth:"".concat(h,"px"),flexShrink:0}:{width:"".concat(S,"px"),minWidth:"".concat(x,"px"),flexShrink:0}},Se=function(e,t,n){for(var a=O,r=Math.min(t,6);r>=1;r--){if(a*r+n*(r-1)<=e)return r}return 1};return function(e,r){var i=re,o=ee,c=ce,d=de;return h(),g("div",_a,["default"===y(t).home.overview_view?(h(),g("div",{key:0,ref_key:"stateMainRef",ref:ye},[b("div",{class:T(["state-container flex gap-[1.2rem] mb-[1.2rem]",{"flex-wrap":y(q),"flex-nowrap":!y(q)}])},[b("div",{style:oe(_e("load")),ref_key:"loadRef",ref:l,class:T(["state-component",y(K)?"flex-1":""])},[S(y(n),{style:oe({height:y(G)}),info:y(Z),"main-width":y(u),onShow:r[0]||(r[0]=function(e){return y(z).moveStatePopover(y(Q),"loadPopover")}),onHide:y(z).removeStatePopover,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},{default:C(function(){return[S(Vn,{"load-type":"loadInfo",ref_key:"loadPopover",ref:Q,type:"load","process-alarm-show":y(Y)},{button:C(function(){return[b("div",Sa,[b("div",Ca,[r[6]||(r[6]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前负载",-1)),S(i,{type:y(X).load},{default:C(function(){return[j(x("运行达到".concat(y(Z).range,"%")),1)]}),_:1},8,["type"])])])]}),"base-info":C(function(){return[b("div",Ia,[r[7]||(r[7]=b("div",null,"最近1/5/15分钟平均负载：",-1)),b("div",Pa,x(we.value),1)]),b("div",ja,[r[8]||(r[8]=b("div",null,"活动进程数 / 总进程数:",-1)),b("div",Ta,x(ke.value),1)])]}),"content-info":C(function(){return[b("div",La,[b("table",Oa,[b("tbody",null,[(h(!0),g(N,null,H(y(ae),function(e,t){return h(),g("tr",{key:t},[(h(!0),g(N,null,H(e,function(e,t){return h(),g(N,{key:t},[b("td",{title:e.title,class:"break-all text-ellipsis p-[.4rem] pl-0"},[b("span",null,x(e.name),1)],8,Ma),b("td",{title:e.title,class:"break-all text-ellipsis"},[b("span",null,x(e.value),1)],8,Ba)],64)}),128))])}),128))])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),b("div",{style:oe(_e("cpu")),class:T(["state-component",y(K)?"flex-1":""])},[S(y(n),{style:oe({height:y(G)}),info:y(ie),type:"cpu","main-width":y(u),onShow:r[1]||(r[1]=function(e){return y(z).moveStatePopover(y(le),"cpuPopover")}),onHide:y(z).removeStatePopover},{default:C(function(){return[S(Vn,{"load-type":"cpuInfo",type:"cpu",ref_key:"cpuPopover",ref:le,"process-alarm-show":y(Y)},{button:C(function(){return[b("div",Da,[b("div",Ra,[r[9]||(r[9]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前CPU使用率",-1)),S(i,{type:y(X).cpu},{default:C(function(){return[j(x("占用".concat(y(ie).range,"%")),1)]}),_:1},8,["type"])])])]}),"content-info":C(function(){return[b("div",Aa,[(h(!0),g(N,null,H(y($),function(e,t){return h(),g("div",{key:t,class:"flex direction-row items-center justify-between my-[1rem]"},[b("span",null,x(e.name),1),b("span",null,x(e.value),1)])}),128))])]}),"base-info":C(function(){return[b("p",null,x(y(ne).framework),1),b("p",null,x("".concat(y(ne).cpuNumber,"个物理CPU，").concat(y(ne).logicCores,"个物理核心，").concat(y(ne).cores,"个逻辑核心")),1)]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),b("div",{style:oe(_e("mem")),class:T(["state-component",y(K)?"flex-1":""])},[S(y(n),{style:oe({height:y(G)}),type:"mem",info:y(fe),"main-width":y(u),onShow:r[2]||(r[2]=function(e){return y(z).moveStatePopover(y(me),"memoryPopover")}),onHide:y(z).removeStatePopover},{default:C(function(){return[S(Vn,{"load-type":"memoryInfo",type:"mem",ref_key:"memoryPopover",ref:me,"process-alarm-show":y(Y)},{button:C(function(){return[b("div",Ea,[b("div",Fa,[r[10]||(r[10]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前内存",-1)),S(i,{type:y(X).memory},{default:C(function(){return[j(x("占用".concat(y(fe).range,"%")),1)]}),_:1},8,["type"])]),S(o,{type:"primary",onClick:y(z).onClearMemory},{default:C(function(){return s(r[11]||(r[11]=[j("立即释放",-1)]))}),_:1},8,["onClick"])])]}),"base-info":C(function(){return[b("div",za,[b("div",Na,[b("div",Ha,[r[12]||(r[12]=b("span",{class:"w-[81px] inline-flex justify-end"},"空闲内存：",-1)),b("span",Va,x(y(pe).memFree+" MB"),1)]),b("div",Ua,[r[13]||(r[13]=b("span",{class:"w-[81px] inline-flex justify-end"},"已用：",-1)),b("span",Wa,x(y(pe).memRealUsed+" MB"),1)])]),b("div",Ga,[b("div",qa,[r[14]||(r[14]=b("span",{class:"w-[81px] inline-flex justify-end"},"总内存：",-1)),b("span",Ka,x(y(pe).memTotal+" MB"),1)]),b("div",$a,[r[15]||(r[15]=b("span",{class:"w-[81px] inline-flex justify-end"},"共享：",-1)),b("span",Ja,x(y(pe).memShared+" MB"),1)])]),b("div",Za,[b("div",Qa,[r[16]||(r[16]=b("span",{class:"w-[81px] inline-flex justify-end"},"可分配内存：",-1)),b("span",null,x(y(pe).memAvailable+"MB"),1)]),b("div",Ya,[r[17]||(r[17]=b("span",{class:"w-[81px] inline-flex justify-end"},"buff/cache：",-1)),b("span",Xa,x(y(pe).memCached+"/"+y(pe).memBuffers+" MB"),1)])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),"single"===y(W)?(h(!0),g(N,{key:0},H(y(ve),function(e,t){return h(),g("div",{key:t,style:oe(_e("disk")),class:"state-component"},[S(y(n),{style:oe({height:y(G)}),type:"disk",info:e.info,"main-width":y(u),onHide:y(z).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:C(function(){return[S(ta,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)):"hybrid"===y(W)?(h(),g(N,{key:1},[(h(!0),g(N,null,H(y(ve).slice(0,y(ve).length-6),function(e,t){return h(),g("div",{key:"hybrid-disk-".concat(t),style:oe(_e("disk")),class:"state-component"},[S(y(n),{style:oe({height:y(G)}),type:"disk",info:e.info,"main-width":y(u),onHide:y(z).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:C(function(){return[S(ta,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)),b("div",{style:oe(_e("disk-area")),class:"state-component"},[b("div",{class:"module-ui rounded-medium p-[2.4rem]",style:oe({height:y(G)})},[b("div",er,[S(ka,{list:y(ve).slice(y(ve).length-6),"is-show-all-disk":y(K)},null,8,["list","is-show-all-disk"])])],4)],4)],64)):(h(),g("div",{key:2,style:oe(_e("disk-area")),class:"state-component"},["stack"===y(W)?(h(),I(y(a),{key:0,list:y(ve),class:"bg-white shadow rounded",style:oe({height:y(G)})},null,8,["list","style"])):"tile"===y(W)?(h(),g("div",{key:1,class:"module-ui rounded-medium p-[2.4rem]",style:oe({height:y(K)?"auto":y(G)})},[b("div",tr,[S(ka,{list:y(K)?y(ve):y(ve).slice(0,6),"is-show-all-disk":y(K)},null,8,["list","is-show-all-disk"])])],4)):w("",!0)],4))],2)],512)):"tile"===y(t).home.overview_view?(h(),g("div",nr,[r[30]||(r[30]=b("div",{class:"module-ui-header"},[b("div",{class:"flex w-full justify-between"},[b("span",{class:"font-alibaba-semibold"},"状态")])],-1)),b("div",ar,[S(d,{span:24,class:"w-full"},{default:C(function(){return[S(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:C(function(){return[S(y(n),{info:y(Z),onShow:r[3]||(r[3]=function(e){return y(z).moveStatePopover(y(Q),"loadPopover")}),onHide:y(z).removeStatePopover,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},{default:C(function(){return[S(Vn,{"load-type":"loadInfo",ref_key:"loadPopover",ref:Q,type:"load","process-alarm-show":y(Y)},{button:C(function(){return[b("div",rr,[b("div",ir,[r[18]||(r[18]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前负载",-1)),S(i,{type:y(X).load},{default:C(function(){return[j(x("运行达到".concat(y(Z).range,"%")),1)]}),_:1},8,["type"])])])]}),"base-info":C(function(){return[b("div",or,[r[19]||(r[19]=b("div",null,"最近1/5/15分钟平均负载：",-1)),b("div",lr,x(we.value),1)]),b("div",sr,[r[20]||(r[20]=b("div",null,"活动进程数 / 总进程数:",-1)),b("div",ur,x(ke.value),1)])]}),"content-info":C(function(){return[b("div",cr,[b("table",dr,[b("tbody",null,[(h(!0),g(N,null,H(y(ae),function(e,t){return h(),g("tr",{key:t},[(h(!0),g(N,null,H(e,function(e,t){return h(),g(N,{key:t},[b("td",{title:e.title,class:"break-all text-ellipsis p-[.4rem] pl-0"},[b("span",null,x(e.name),1)],8,fr),b("td",{title:e.title,class:"break-all text-ellipsis"},[b("span",null,x(e.value),1)],8,mr)],64)}),128))])}),128))])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),S(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:C(function(){return[S(y(n),{info:y(ie),type:"cpu",onShow:r[4]||(r[4]=function(e){return y(z).moveStatePopover(y(le),"cpuPopover")}),onHide:y(z).removeStatePopover},{default:C(function(){return[S(Vn,{"load-type":"cpuInfo",type:"cpu",ref_key:"cpuPopover",ref:le,"process-alarm-show":y(Y)},{button:C(function(){return[b("div",pr,[b("div",vr,[r[21]||(r[21]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前CPU使用率",-1)),S(i,{type:y(X).cpu},{default:C(function(){return[j(x("占用".concat(y(ie).range,"%")),1)]}),_:1},8,["type"])])])]}),"content-info":C(function(){return[b("div",yr,[(h(!0),g(N,null,H(y($),function(e,t){return h(),g("div",{key:t,class:"flex direction-row items-center justify-between my-[1rem]"},[b("span",null,x(e.name),1),b("span",null,x(e.value),1)])}),128))])]}),"base-info":C(function(){return[b("p",null,x(y(ne).framework),1),b("p",null,x("".concat(y(ne).cpuNumber,"个物理CPU，").concat(y(ne).logicCores,"个物理核心，").concat(y(ne).cores,"个逻辑核心")),1)]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),S(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:C(function(){return[S(y(n),{type:"mem",info:y(fe),onShow:r[5]||(r[5]=function(e){return y(z).moveStatePopover(y(me),"memoryPopover")}),onHide:y(z).removeStatePopover},{default:C(function(){return[S(Vn,{"load-type":"memoryInfo",type:"mem",ref_key:"memoryPopover",ref:me,"process-alarm-show":y(Y)},{button:C(function(){return[b("div",hr,[b("div",gr,[r[22]||(r[22]=b("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前内存",-1)),S(i,{type:y(X).memory},{default:C(function(){return[j(x("占用".concat(y(fe).range,"%")),1)]}),_:1},8,["type"])]),S(o,{type:"primary",onClick:y(z).onClearMemory},{default:C(function(){return s(r[23]||(r[23]=[j("立即释放",-1)]))}),_:1},8,["onClick"])])]}),"base-info":C(function(){return[b("div",br,[b("div",xr,[b("div",wr,[r[24]||(r[24]=b("span",{class:"w-[81px] inline-flex justify-end"},"空闲内存：",-1)),b("span",kr,x(y(pe).memFree+" MB"),1)]),b("div",_r,[r[25]||(r[25]=b("span",{class:"w-[81px] inline-flex justify-end"},"已用：",-1)),b("span",Sr,x(y(pe).memRealUsed+" MB"),1)])]),b("div",Cr,[b("div",Ir,[r[26]||(r[26]=b("span",{class:"w-[81px] inline-flex justify-end"},"总内存：",-1)),b("span",Pr,x(y(pe).memTotal+" MB"),1)]),b("div",jr,[r[27]||(r[27]=b("span",{class:"w-[81px] inline-flex justify-end"},"共享：",-1)),b("span",Tr,x(y(pe).memShared+" MB"),1)])]),b("div",Lr,[b("div",Or,[r[28]||(r[28]=b("span",{class:"w-[81px] inline-flex justify-end"},"可分配内存：",-1)),b("span",null,x(y(pe).memAvailable+"MB"),1)]),b("div",Mr,[r[29]||(r[29]=b("span",{class:"w-[81px] inline-flex justify-end"},"buff/cache：",-1)),b("span",Br,x(y(pe).memCached+"/"+y(pe).memBuffers+" MB"),1)])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),(h(!0),g(N,null,H(y(ve).filter(function(e,t,n){return"None"!==e.data.path||n.findIndex(function(e){return"None"===e.data.path})===t}),function(e,t){return h(),I(c,{key:t,class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:C(function(){return[S(y(n),{type:"disk",info:e.info,onHide:y(z).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:C(function(){return[S(ta,{item:e},null,8,["item"])]}),_:2},1032,["info","onHide","data","alert"])]}),_:2},1024)}),128))]}),_:1})])])):w("",!0)])}}}),Ar=Fe(Rr,[["__scopeId","data-v-2dc75395"]]);function Er(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.document,l=void 0===o?pe:o,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(i,e),c={onUpdate:function(e){!function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!=a&&((r=a.item).parentNode&&r.parentNode.removeChild(r),function(e,t,n){var a=e.children[n];e.insertBefore(t,a)}(a.from,a.item,t));var r;var i=q(e),o=i?s(ve(e)):ve(e);if(n>=0&&n<o.length){var l=o.splice(t,1)[0];z(function(){o.splice(n,0,l),i&&(e.value=o)})}}(n,e.oldIndex,e.newIndex,e)}},d=function(){var e=null==l?void 0:l.querySelector(t);e&&void 0===r&&(r=new st(e,a(a({},c),u)))},f=function(){null==r||r.destroy(),r=void 0};return fe(d),me(f),{stop:f,start:d,option:function(e,t){if(void 0===t)return null==r?void 0:r.option(e);null==r||r.option(e,t)}}}var Fr=n("c",E("HOME-OVERVIEW-STORE",function(){var e=F(),t=Me(),n=t.mainWidth,i=t.payment,o=f(i.value).authType,l=c([]),s=c(!0),u=c(!1),m=function(){var e=p(d().m(function e(){var t,n;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Be({request:Ot(),data:{data:[Array,l]}});case 1:return t=e.v,v(),e.a(2,Promise.resolve(t.data));case 2:e.p=2,n=e.v,ut(n);case 3:return e.p=3,s.value=!1,z(function(){_()}),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=l.value.findIndex(function(e){return"ssh_log"===e.name});-1!==e&&Be({loading:u,request:Mt({log_type:l.value[e].params[0].source}),success:function(t){Array.isArray(t.data)&&(l.value[e].value=t.data)}})},y=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({title:"自定义概览模块",area:100,compData:t,component:function(){return Ae(function(){return r.import("./index-legacy342.js?v=1764728423")},void 0,r.meta.url)}}))},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=p(d().m(function t(n){var a,r,i;return d().w(function(t){for(;;)switch(t.n){case 0:i=n.type,t.n="base"===i?1:"model"===i?2:"plugin"===i?5:6;break;case 1:return a=n.params[0].source,r="/"+(["ftps","sites","databases"].includes(n.name)&&"all"===a?"":a).replace("proxy","nginx"),t.a(2,e.push({path:n.source.href+r}));case 2:if("memo"!==n.name){t.n=3;break}return t.a(2,b());case 3:if("safety_risk"!==n.name){t.n=4;break}return t.a(2,x());case 4:if("ssh_log"!==n.name){t.n=5;break}return t.a(2,e.push({path:"/logs/ssh"}));case 5:return t.a(2,k(n));case 6:if("search_file"!==n.name){t.n=7;break}return t.a(2,S());case 7:if("open_dir"!==n.name){t.n=8;break}return t.a(2,Kt({path:n.params[0].name}));case 8:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:return t=l.value.map(function(e,t){return e.id}),e.n=1,Be({request:Et({overview:JSON.stringify(t)}),message:!0,success:function(e){e.status||m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({title:"备忘录",area:[70,60],component:function(){return Ae(function(){return r.import("./index-legacy343.js?v=1764728423")},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({area:[90,60],component:function(){return Ae(function(){return r.import("./index-legacy344.js?v=1764728423").then(function(e){return e.i})},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.plugin_info.type;return"free"===o.value&&(8===t||12===t)||"ltd"!==o.value&&12===t},k=function(e){var t=e.plugin_info,n=(t.type,t.endtime),a=(t.setup,"total"===e.name?41:"btwaf"===e.name?366:42);if(w(e)&&n<0)return Tt({disablePro:!0,sourceId:a});jt({name:e.name})},_=function(){var e;Er(".overview-wrapper",l,{animation:500,handle:".move-icon",chosenClass:"ghost",onUpdate:(e=p(d().m(function e(t){var n,a,r;return d().w(function(e){for(;;)switch(e.n){case 0:n=t.oldIndex,a=t.newIndex,r=l.value[n],l.value.splice(n,1),l.value.splice(a,0,r),g();case 1:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})})},S=function(){nt("searchFile","true"),e.push({path:"/files"})},C=c(""),I=c("/www/server/panel/data/memo.txt"),P=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Be({loading:"正在保存备忘录，请稍后...",request:ct({path:I.value,data:C.value,encoding:"utf-8"}),message:!0,success:function(e){e.status&&m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Be({loading:"正在获取备忘录数据，请稍后...",request:dt(),data:[String,C]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),T=ye([]),L=c([]),O=ye(!1),M=ye(0),B=c({val0:0,val1:0,val2:0,val3:0}),D=c(["sites","databases","total","ssh_log","monitor"]),R=c(["open_dir"]),A=function(){var e={};L.value=[],l.value.forEach(function(t){e[t.name]=t}),T.value.forEach(function(t){var n=t.template;t.option.forEach(function(t){var r=e[t.name]||!1;L.value.push(a(a({},t),{isShow:Boolean(r),showItem:r,template:n,overviewPopover:!1}))})})},E=function(){var e=p(d().m(function e(t){var n,a,r,i;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t.isShow||6!==l.value.length){e.n=1;break}return z(function(){return t.isShow=!1}),e.a(2,ft.warn("最多只能显示6个模块"));case 1:if(n=N(t),t.isShow||!rt(t.showItem.id)){e.n=3;break}return e.n=2,U();case 2:(t=L.value.find(function(e){return e.name===t.name})).isShow=!t.isShow;case 3:a=t.isShow?Dt:Bt,r=t.isShow?{overview:JSON.stringify(n)}:{overview_id:t.showItem.id},Be({loading:"正在".concat(t.isShow?"删除":"添加","模块，请稍后..."),request:a(r),message:!0,data:{data:Array,msg:String,status:Boolean},success:function(){var e=p(d().m(function e(n){return d().w(function(e){for(;;)switch(e.n){case 0:if(!n.status){e.n=2;break}return t.isShow&&(t.showItem=n.data.length?n.data[n.data.length-1]:t.showItem),e.n=1,m();case 1:A();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),e.n=5;break;case 4:e.p=4,i=e.v,ut(i);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a({},e),r=[],i=[];for(var o in B.value)e.params.length&&i.push(B.value[o]);if(0===i.length&&(i=[0]),"open_dir"===e.name){var l=B.value.val0||e.params[0].option[0].source;r=[{name:l,source:l}]}else r=n.params.map(function(t,n){return"select"===t.type?t.option[i[n]]:e.params?e.params[n]:void 0});return delete n.overviewPopover,t?(e.showItem.params=r,n=a({},e.showItem)):(delete n.showItem,n.params=r),n},H=function(){var e=p(d().m(function e(t){var n,a,r;return d().w(function(e){for(;;)switch(e.n){case 0:if((n=Boolean(t.showItem))||6!==l.value.length){e.n=1;break}return t.overviewPopover=!1,z(function(){return t.isShow=!1}),e.a(2,ft.warn("最多只能显示6个模块"));case 1:a={overview:JSON.stringify(N(t,n))},r=n&&t.isShow?Rt:Dt,Be({loading:"正在".concat(n?"修改":"添加","模块，请稍后..."),request:r(a),message:!0,success:function(){var e=p(d().m(function e(n){return d().w(function(e){for(;;)switch(e.n){case 0:if(t.overviewPopover=!1,t.isShow=!0,V(),!n.status){e.n=2;break}return e.n=1,m();case 1:A();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){B.value={val0:0,val1:0,val2:0,val3:0}},U=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Be({loading:O,request:mt(),data:{data:[Array,T]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{mainWidth:n,loading:s,isSshLoading:u,overviewShowList:l,getOverviewData:m,openOverviewTemplate:function(){y({getOverviewData:m})},openModelDialog:h,securityRisksDialog:x,getModelTitle:function(e){var t=e.title,n=0,a=e.params.length||0,r=["ssh_log"];if(!e.status)return t;if("open_dir"===e.name)return t;a>=2&&(t="");for(var i=a-1;i>=0;i--){var o=e.params[i];(t===o.name||r.indexOf(e.name)>-1)&&(t=""),2!==n&&(1===a&&""!=t&&(t+=" - "),t+="".concat(o.name)+(i===a-1&&a>1?" - ":""),n++),n=0}return t.replace(" - 全部","")},getPayStatus:w,getModelTips:function(e){switch(e.template){case"base":return"memo"===e.name||"safety_risk"===e.name?"打开".concat(e.title,"模块"):"跳转至".concat(e.title,"页面");case"browse":return"plugin"===e.type?"打开".concat(e.title,"插件"):"打开".concat(e.title,"模块");case"open_dir":return"打开".concat(e.title)}},content:C,path:I,saveFileEvent:P,getMemoData:j,isLoading:O,overviewModelList:L,supportConfig:D,supportPath:R,form:B,onPathChange:function(e){At({type:"dir",change:function(t){B.value.val0=t,H(e)}})},getOverviewTemplateData:U,dataAlignment:A,setOverviewTemplateShow:E,addOverviewFun:H,setPopoverShow:function(e,t){L.value[t].overviewPopover=!0,M.value=t;for(var n=e.showItem.params,a=Object.entries(B.value),r=function(t){if(!(t<e.params.length))return 1;var a=e.params[t];if("select"===a.type){var r=a.option.findIndex(function(e){return!n||(!n[t]||e.source===n[t].source)});B.value["val"+t]=r}else B.value["val"+t]=n?n[t].source:a.option[t].source},i=0;i<a.length&&!r(i);i++);}}})),zr={class:"module-ui mb-[1.2rem] mx-[1.2rem]"},Nr={class:"module-ui-header"},Hr={class:"flex w-full justify-between"},Vr={class:"module-ui-body mt-[1.2rem]"},Ur={class:"!mx-0 w-full"},Wr={class:"flex flex-col w-full relative inline-block"},Gr={class:"overview-box"},qr={class:"overview-content"},Kr={class:"content w-full"},$r={class:"title"},Jr={class:"flex h-[4.4rem] items-center w-full"},Zr={key:0,class:"risk not-install bt-blink"},Qr={key:1,class:"model font-bold"},Yr={class:"to-day"},Xr={class:"yester-day ml-[1.6rem]"},ei={key:2,class:"path-info bt-link-primary truncate"},ti={key:3,class:"path-info bt-link-primary truncate"},ni={key:4,class:"icon-open-routes"},ai={class:"icon-open-routes-text"},ri=Fe(l({__name:"index",setup:function(e){var t=Fr(),n=k(t),a=n.mainWidth,r=n.loading,i=n.isSshLoading,o=n.overviewShowList,l=_(function(){var e,t=a.value<1100?a.value<800?a.value<400?1:2:4:a.value>1800?8:6,n=Math.floor((a.value-16*t-50)/t);return e=Math.min(Math.max(n,200),270),{number:24/(t>o.value.length?o.value.length:t),width:e}}),u=_(function(){return l.value.width<230});return m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:kt({promises:[t.getOverviewData],delay:100});case 1:return e.a(2)}},e)}))),function(e,n){var a=ge,c=be,d=ce,f=de,m=xe;return h(),g("div",zr,[b("div",Nr,[b("div",Hr,[n[3]||(n[3]=b("span",{class:"font-alibaba-semibold"},"概览",-1)),b("span",{title:"自定义概览模块",class:"!ml-[1rem] cursor-pointer",onClick:n[0]||(n[0]=function(e){return y(t).openOverviewTemplate()})},s(n[2]||(n[2]=[b("i",{class:"svgtofont-el-more-filled !text-large hover:text-primary inline-block",style:{transform:"rotate(90deg)"}},null,-1)])))])]),b("div",Vr,[b("div",Ur,[S(f,{span:24,gutter:20,class:"overview-wrapper draggable-group"},{default:C(function(){return[y(r)?(h(),g(N,{key:0},H(5,function(e){return S(c,{style:oe({width:"".concat(y(l).width,"px")}),class:"overview-box",key:e},{template:C(function(){return[b("div",Wr,[S(a,{variant:"text",class:"!w-[40%]"}),S(a,{variant:"text",class:"mt-10px"})])]}),_:1},8,["style"])}),64)):w("",!0),(h(!0),g(N,null,H(y(o),function(e){return h(),I(d,{span:y(l).number,xl:y(l).number,class:"rounded-large",key:e.id,onClick:function(n){return y(t).openModelDialog(e)},style:oe({minWidth:"".concat(y(l).width,"px")})},{default:C(function(){return[b("div",Gr,[b("i",{class:"svgtofont-icon-drag move-icon",onClick:n[1]||(n[1]=he(function(){},["stop"])),title:"可拖拽"}),b("div",qr,[b("div",Kr,[b("span",$r,x(y(t).getModelTitle(e)),1),b("div",Jr,["base"===e.template?(h(),g("span",{key:0,class:T(["bt-link-primary !text-subtitleLarge text-alibaba",{memo:"memo"===e.name,risk:"safety_risk"===e.name&&e.value[0]>0,"!text-disabled":"memo"===e.name&&!e.value[0]}])},x(e.value[0]||("memo"===e.name?"当前内容为空，点击编辑":e.value[0])),3)):"browse"===e.template?(h(),g(N,{key:1},["plugin"!==e.type||e.plugin_info.setup?"plugin"===e.type||"model"===e.type?Z((h(),g("div",Qr,[b("div",Yr,[n[4]||(n[4]=b("span",{class:""},"今日",-1)),b("span",null,x(e.value[0]||0),1)]),b("div",Xr,[n[5]||(n[5]=b("span",null,"昨日",-1)),b("span",null,x(e.value[1]||0),1)])])),[[m,y(i)&&"ssh_log"===e.name]]):w("",!0):(h(),g("span",Zr,x(y(t).getPayStatus(e)?"立即购买":"立即安装"),1))],64)):"open_dir"===e.template?(h(),g("span",ei,x(e.params[0].name),1)):"search_file"===e.template?(h(),g("span",ti," 点击搜索内容 ")):w("",!0),"base"===e.type||"safety_risk"===e.name?(h(),g("div",ni,[n[6]||(n[6]=b("span",{class:"icon-open-routes-icon"},[b("i",{class:"svgtofont-el-arrow-right font-bold text-medium"})],-1)),b("span",ai,x(y(u)?"打开":"打开到".concat(y(t).getModelTitle(e).split("-")[0])),1)])):w("",!0)])])])])]}),_:2},1032,["span","xl","onClick","style"])}),128))]}),_:1})])])])}}}),[["__scopeId","data-v-d39ddaca"]]),ii={class:"module-ui flex flex-col"},oi={class:"module-ui-header"},li={class:"w-full flex justify-between items-center"},si={class:"plugin-search"},ui={class:"pluginInfo"},ci=["src"],di={class:"plugin-desc"},fi={class:"wrapper module-ui-body soft-wrapper"},mi=["onClick"],pi={key:0,id:"freeTagCon"},vi={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},yi={class:"w-[6rem] h-[6rem] rounded-large bg-dark flex items-center justify-center"},hi=["src","custom"],gi={class:"text-tertiary h-9 leading-9 flex items-center justify-center pb-[8px]"},bi={class:"w-full truncate text-center"},xi=["onClick"],wi={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},ki={class:"w-[6rem] h-[6rem] rounded-large bg-dark flex items-center justify-center"},_i=["src"],Si={class:"flex justify-center items-center h-9 leading-9 pb-[8px]"},Ci={class:"text-tertiary h-9 leading-9 w-full truncate text-center"},Ii={class:"flex justify-center align-middle mt-2 mb-4 opacity-70"},Pi=l({__name:"index",setup:function(e){var t=$t(),n=k(t),a=n.popShow,r=n.pluginKeyword,i=n.recommendList,o=n.containerRef,l=n.mySoftList,u=n.tableLoading,c=n.isGetSoft,f=n.softShowList;return A(i,function(e){e.length>0&&t.createSoftList()},{immediate:!0}),m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,kt({promises:[t.getHomeInstallSoftData,t.getRecommendInfo],delay:100});case 1:z(function(){if(Jt().type.includes("aliyun"))var e=setInterval(p(d().m(function t(){var n;return d().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,$e(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)});case 2:return e.a(2)}},e)}))),function(e,n){var i=ee,d=_e,m=Se,p=K,v=Ce,k=O,_=$("table-scroll-load"),P=$("bt-loading");return h(),g("div",ii,[b("div",oi,[b("div",li,[b("span",{onClick:n[0]||(n[0]=function(){var e;return y(t).goSoft&&(e=y(t)).goSoft.apply(e,arguments)}),class:"cursor-pointer hover:text-primary font-alibaba-semibold"},"软件"),S(k,{"popper-class":"myPopover",placement:"right-start",visible:y(a),width:"400",onShow:n[7]||(n[7]=function(e){return y(t).showPopoverHandle("")})},{reference:C(function(){return[S(i,{ref:"softButton",class:"soft-button-no-padding",type:"default",title:"软件自定义编辑",link:"",onClick:n[6]||(n[6]=function(e){return a.value=!y(a)})},{default:C(function(){return s(n[10]||(n[10]=[b("i",{class:"svgtofont-el-more-filled text-default !text-large hover:text-primary inline-block",style:{transform:"rotate(90deg)"}},null,-1)]))}),_:1},512)]}),default:C(function(){return[b("div",{ref_key:"containerRef",ref:o,class:"plugin-box p-[.8rem]",onMouseleave:n[5]||(n[5]=function(){var e;return y(t).leave&&(e=y(t)).leave.apply(e,arguments)})},[b("div",si,[S(d,{placeholder:"请输入要搜索的应用",modelValue:y(r),"onUpdate:modelValue":n[2]||(n[2]=function(e){return q(r)?r.value=e:null}),"fetch-suggestions":y(t).querySearch,"trigger-on-focus":!1,class:"search-input w-full","popper-class":"soft-search-popover",onKeyup:n[3]||(n[3]=we(function(e){return y(t).searchPluginHandle("select")},["enter","native"])),onSelect:n[4]||(n[4]=function(e){return y(t).searchPluginHandle()})},{append:C(function(){return[S(i,{onClick:n[1]||(n[1]=function(e){return y(t).searchPluginHandle("select")})},{default:C(function(){return s(n[9]||(n[9]=[b("i",{class:"svgtofont-el-search"},null,-1)]))}),_:1})]}),_:1},8,["modelValue","fetch-suggestions"])]),Z((h(),I(v,{data:y(l),height:"400"},{default:C(function(){return[S(m,{width:"260",property:"date",label:"软件名称"},{default:C(function(e){return[b("div",ui,[b("img",{class:"plugin-img",src:y(t).renderSoftImages(e.row.name)},null,8,ci),b("span",di,x(e.row.title)+" "+x(e.row.version),1)])]}),_:1}),S(m,{property:"setup",sortable:"",label:"首页显示",prop:"index_display"},{default:C(function(e){return[S(p,{modelValue:e.row.index_display,"onUpdate:modelValue":function(t){return e.row.index_display=t},"active-color":"var(--el-color-primary)","inactive-color":"var(--el-color-text-disabled)",width:32,size:"small",onChange:function(n){return y(t).changeSwitchHandle(e.row,e.$index)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]}),_:1})]}),_:1},8,["data"])),[[_,y(t).load],[P,y(u)]])],544)]}),_:1},8,["visible"])])]),Z((h(),g("div",fi,[S(ke,null,{default:C(function(){return[(h(!0),g(N,null,H(y(f),function(e,a){return h(),g("div",{key:e.name+"_id",class:T(e.title?"box-wrapper cursor-pointer relative":"")},[a<12?(h(),g(N,{key:0},[e.id&&e.setup?(h(),g("div",{key:0,onClick:function(n){return y(t).openSoftView(e)}},[b("i",{class:"svgtofont-icon-drag !text-base text-secondary !hidden absolute right-6 top-6 cursor-move mover soft-move",onClick:n[8]||(n[8]=he(function(){},["stop"]))}),e.tag?(h(),g("span",pi)):w("",!0),b("div",vi,[b("div",yi,[b("img",{src:y(t).renderSoftImages(e.name),class:"w-[4rem]",custom:!y(pt)},null,8,hi)])]),b("div",gi,[b("span",bi,[j(x(e.title.replace(/PHP-[{0-9},\.]+/,"PHP-")+" "+e.version)+" ",1),Z(b("i",{style:oe("color:".concat(y(t).softStatusColor(e))),class:T("ml-[5px] svgtofont-icon-".concat(y(t).softStatus(e)))},null,6),[[ne,5===e.type]])])])],8,mi)):y(vt)(e)?w("",!0):(h(),g(N,{key:1},[b("div",{onClick:function(n){return y(t).openRecommendSoftView(e)},class:"absolute rounded- left-2 top-2 py-.5 px-3 transform scale-75 bg-lighter text-tertiary opacity-80"},"推荐",8,xi),b("div",wi,[b("div",ki,[b("img",{src:"".concat(y(pt)?"/static/images":"/static/img","/soft_ico/ico-").concat(e.name,".png"),class:"w-[4rem]"},null,8,_i)])]),b("div",Si,[b("div",Ci,[j(x(e.title)+" "+x(e.version),1),n[11]||(n[11]=b("span",{class:"text-btColor"},null,-1))])]),b("div",Ii,[e.preview?(h(),I(i,{key:0,type:"default",size:"small",onClick:function(n){return y(t).openSoftPreLink(e)},plain:""},{default:C(function(){return s(n[12]||(n[12]=[j("预览",-1)]))}),_:1},8,["onClick"])):w("",!0),e.isBuy?w("",!0):(h(),I(i,{key:1,type:"primary",size:"small",plain:"",onClick:function(n){return y(t).openLtdPayView(e)}},{default:C(function(){return s(n[13]||(n[13]=[j("购买",-1)]))}),_:1},8,["onClick"])),e.isBuy&&!e.install?(h(),I(i,{key:2,type:"primary",size:"small",plain:"",onClick:function(n){return y(t).openInstall(e)}},{default:C(function(){return s(n[14]||(n[14]=[j("安装",-1)]))}),_:1},8,["onClick"])):w("",!0)])],64))],64)):w("",!0)],2)}),128))]}),_:1})])),[[P,y(c)],[P,"正在获取软件列表，请稍后...","title"]])])}}}),ji=Fe(Pi,[["__scopeId","data-v-12d56308"]]),Ti={class:"monitor monitor-chart w-full"},Li=l({__name:"main",props:Ie({info:{default:function(){return{info:[],option:{}}}}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e,t){var n=t.expose,r=Pe(e,"modelValue"),i=c();A(r,function(e){e&&f(e)});var o=yt({options:{xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{boundaryGap:[0,"50%"],type:"value"},series:[]}}),l=o.BtECharts,s=o.getEChart,u=o.setOption,f=function(){var e=p(d().m(function e(t){var n;return d().w(function(e){for(;;)switch(e.n){case 0:return u(m(t)),e.n=1,s();case 1:i.value=e.v,null===(n=i.value)||void 0===n||n.resize();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={grid:{right:"5%",bottom:"6%",top:"6%"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{formatter:null===(e=n.axisPointerLabel)||void 0===e?void 0:e.formatter}},formatter:n.formatter},xAxis:{type:"category",boundaryGap:!1,data:n.tData,axisLine:{lineStyle:{color:Ve.value?"#888":"#cccccc"}}},yAxis:a(a(a({type:"value",boundaryGap:[0,"100%"],splitNumber:n.splitNumber,min:0},n.axisLabel?{axisLabel:n.axisLabel}:{}),"iostat"===(null===(t=r.value)||void 0===t?void 0:t.type)?{axisLabel:{formatter:function(e,t){return tt(e,!1,0)},color:"#666"}}:{}),{},{splitLine:{lineStyle:{color:Ve.value?"#888":"#cccccc",type:"dashed"}},axisLine:{lineStyle:{color:Ve.value?"#888":"#cccccc"}}}),series:[]},o=n.legend,l=n.dataZoom,s=n.list;return o&&(i.legend=o),l&&(i.dataZoom=l),s.forEach(function(e){var t={name:e.name,data:e.data,type:e.type||"line",smooth:e.smooth||!0,symbol:"circle",symbolSize:6,showSymbol:!0,emphasis:{symbolSize:8},sampling:e.sampling||"average",areaStyle:e.areaStyle||{},lineStyle:a({},e.lineStyle||{}),itemStyle:a(a({},e.itemStyle||{}),{},{borderColor:"#fff",borderWidth:"1px"})};i.series.push(t)}),i};return n({echartRef:i,setConfig:f}),function(e,t){return h(),g("div",Ti,[J(e.$slots,"default",{},void 0,!0),S(y(l),{class:"w-full"})])}}}),Oi=Fe(Li,[["__scopeId","data-v-427e0bc0"]]),Mi=E("HOME-MONITOR-STORE",function(){var e,t,n=Wt(),a=k(n).isRefreshData,r=c(!0),i=c(!1),o=c(),l=c(),s=c("net"),u=c(0),f=_(function(){return S(u.value)}),m=ye({}),v=ye({}),y=c([]),h=c([]),g=G({net:{selectVal:"ALL",selectList:[],data:{timeList:[],upList:[],downList:[]},info:{up:{label:"上行",value:"0 B",bgColor:"#20a53a"},down:{label:"下行",value:"0 B",bgColor:" #FF9901"},upTotal:{label:"总发送",value:"0 B"},downTotal:{label:"总接收",value:"0 B"}}},iostat:{selectVal:"ALL",selectList:[],data:{timeList:[],readList:[],writeList:[],tipsList:[]},info:{read:{label:"读取",value:"0 B",bgColor:"#FF4683"},write:{label:"写入",value:"0 B",bgColor:"#6CC0CF"},second:{label:"每秒读写",value:"0次"},io:{label:"IO延迟",value:"0 ms",color:"#20a53a"}}}}),b=c([{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!1}]);(t=e||(e={})).Net="net",t.Iostat="iostat",yn.useSetCallback("network",function(e){var t;if(e){y.value=e,"net"===s.value&&I(e,f.value);var n=M("net","data");m.value=P(n),null!==(t=O(s.value))&&void 0!==t&&null!==(t=t.echartRef)&&void 0!==t&&t.id&&(i.value=!1),w()}}),yn.useSetCallback("diskIo",function(){var e=p(d().m(function e(t){var n,a;return d().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:h.value=t,"iostat"===s.value&&j(t),a=M("iostat","data"),v.value=T(a),null!==(n=O(s.value))&&void 0!==n&&null!==(n=n.echartRef)&&void 0!==n&&n.id&&(i.value=!1),w();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());var x=_(function(){return g[s.value].selectVal}),w=function(){var e=function(){var e=B(t),n=g[t],a=n.selectList;a.length=0,Object.keys(e).forEach(function(e){if("ALL"===e)return n.selectVal||(n.selectVal=e),void a.unshift({label:"所有",value:"ALL"});a.push({label:e,value:e})})};for(var t in g)e()},S=function(e){var t=[" B"," KB"," MB"," GB"," TB"," PB"," EB"];return e<1024?t[0]:e<Math.pow(1024,2)?t[1]:e<Math.pow(1024,3)?t[2]:e<Math.pow(1024,4)?t[3]:e<Math.pow(1024,5)?t[4]:e<Math.pow(1024,6)?t[5]:t[6]},C=function(e,t){var n=e.up,a=e.down,r=e.upTotal,i=e.downTotal;return{up:tt(1024*n,!1,2,t),down:tt(1024*a,!1,2,t),upTotal:tt(1024*r,!1,2,t),downTotal:tt(1024*i,!1,2,t)}},I=function(e,t){var n=M("net"),a=n.info,r=n.data,i=e[x.value||"ALL"];if(i){for(var o=a.up,l=a.down,s=a.upTotal,c=a.downTotal,d=0;d<r.upList.length;d++){var m=r.upList[d];m>u.value&&(u.value=m);var p=r.downList[d];p>u.value&&(u.value=p)}C(i,f.value);var v=C(i,"MB");if(o.value=tt(1024*i.up,!0,1),l.value=tt(1024*i.down,!0,1),s.value=tt(i.upTotal,!0,1),c.value=tt(i.downTotal,!0,1),100*parseFloat(v.down)==0||100*parseFloat(v.down)==0)b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!0},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var y=C(i,"GB");if(100*parseFloat(y.down)==0||100*parseFloat(y.down)==0)b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var h=C(i,"TB");100*parseFloat(h.down)!=0&&100*parseFloat(h.down)!=0||(b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!0}])}}L("net",[{key:"timeList"},{key:"upList",value:Number(1024*i.up)},{key:"downList",value:Number(1024*i.down)}])}},P=function(e){return{dataZoom:[],tData:e.timeList,list:[{name:"上行",data:e.upList,circle:"circle",itemStyle:{color:"#20a53a"},lineStyle:{width:2,color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(32, 165, 58, .6)"},{offset:.8,color:"rgba(32, 165, 58, 0)"}]}}},{name:"下行",data:e.downList,circle:"circle",itemStyle:{color:" #FF9901"},lineStyle:{width:2,color:"#FF9901"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 153, 1, .6)"},{offset:.8,color:"rgba(255, 153, 1, 0)"}]}}}],axisLabel:{formatter:function(e){return tt(e,!1,0,f.value)}},axisPointerLabel:{formatter:function(e){return"y"===e.axisDimension?tt(e.value,!1,2,f.value)+" "+f.value:e.value}},formatter:function(e){for(var t="",n=0;n<e.length;n++){var a=e[n];if(rt(a.data))return!1;t+='<span class="inline-block w-[1rem] h-[1rem] mr-[1rem]" style="border-radius: var(--el-border-radius-circle); background: '.concat(a.color,';"></span>').concat(a.seriesName,"：").concat(tt(parseFloat(a.data),!0,1),"/s ").concat(e.length-1!==n?"<br />":"")}return"时间：".concat(e[0].axisValue,"<br />").concat(t)}}},j=function(e){var t=M("iostat").info,n=e[g.iostat.selectVal||"ALL"],a=t.read,r=t.write,i=t.second,o=t.io;if(n){var l=n.read_bytes,s=n.write_bytes,u=n.read_count,c=n.write_count,d=n.read_time,f=n.write_time;a.value=tt(l,!0,1),r.value=tt(s,!0,1),i.value="".concat(u+c," 次"),o.value="".concat(f>d?f:d," ms");var m=parseInt(o.value);o.color=m>=1e3?"var(--el-color-danger)":m>100&&m<1e3?"var(--el-color-warning)":"var(--el-color-primary)",L("iostat",[{key:"timeList"},{key:"readList",value:l},{key:"writeList",value:s},{key:"tipsList",value:n}])}},T=function(e){return{dataZoom:[],type:"iostat",tData:e.timeList,list:[{name:"读取字节数",data:e.readList,circle:"circle",itemStyle:{color:"#FF4683"},lineStyle:{width:2,color:"#FF4683"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 70, 131, .8)"},{offset:.8,color:"rgba(255, 70, 131, 0)"}]}}},{name:"写入字节数",data:e.writeList,circle:"circle",itemStyle:{color:"#6CC0CF"},lineStyle:{width:2,color:"#6CC0CF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(108, 192, 207, .8)"},{offset:.8,color:"rgba(108, 192, 207, 0)"}]}}}],axisPointerLabel:{formatter:function(e){return"y"===e.axisDimension?tt(e.value,!0,1):e.value}},formatter:function(t){for(var n="时间：".concat(t[0].axisValue,"<br />"),a={read_bytes:"读取字节数",read_count:"读取字节数",read_merged_count:"合并读取次数",read_time:"读取延迟",write_bytes:"写入字节数",write_count:"写入次数",write_merged_count:"合并写入次数",write_time:"写入延迟"},r=e.tipsList[t[0].dataIndex],i=0;i<t.length;i++){var o=t[i];if(rt(o.data))return!1;n+='<span class="inline-block w-[1rem] h-[1rem] mr-[.1rem]" style="border-radius: var(--el-border-radius-circle); background: '.concat(o.color,';"></span>&nbsp;&nbsp;<span>').concat(o.seriesName,"：").concat(tt(parseFloat(o.data),!0,1),"/s</span><br />")}return["read_count","write_count","read_merged_count","write_merged_count","read_time","write_time"].forEach(function(e){var t=r[e],i=t>100&&t<1e3?"#ff9900":t>=1e3?"red":"#20a53a",o=e.indexOf("time")>-1?"color: ".concat(i):"",l=e.indexOf("time")>-1?" ms":" 次/秒";n+='<span class="inline-block w-[1rem] h-[1rem]"></span>&nbsp;&nbsp;<span style="'.concat(o,'">').concat(a[e],"：").concat(t+l,"</span><br />")}),n}}},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=M(e,"data");t.forEach(function(e){var t=e.key,r=e.value,i=a[t];i.length>=n&&i.splice(0,1),"timeList"==t?i.push(ht((new Date).getTime(),"hh:mm:ss",!0)):i.push(r)})},O=function(e){return"net"==e?o.value:"iostat"==e?l.value:void 0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?g[e][t]:g[e]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net";return"net"==e?y.value:"iostat"==e?h.value:{}};return{netRefs:o,iostatRefs:l,loading:i,iostatConfig:v,resource:g,unitList:b,activeName:s,netConfig:m,netUnit:f,initChart:function(){i.value=!0;var e=localStorage.getItem("home-model-active"),t=localStorage.getItem("home-".concat(e,"-active"));e&&(s.value=e,g[e].selectVal=t||"ALL"),z(function(){a.value=!0});var n=M("net","data");m.value=P(n);var r=M("iostat","data");v.value=T(r)},onSelectChange:function(){localStorage.setItem("home-model-active",s.value),localStorage.setItem("home-".concat(s.value,"-active"),x.value),"net"===s.value?I(y.value,f.value):j(h.value)},onNetUnitChange:function(){g.net.data.timeList=[],g.net.data.upList=[],g.net.data.downList=[],localStorage.setItem("netUnit",f.value),I(y.value,f.value)},onTabsChange:function(){var e=s.value;localStorage.setItem("home-model-active",e);var t=localStorage.getItem("home-".concat(e,"-active"));t&&g[e].selectList.some(function(e){return e.value===t})?g[e].selectVal=t:g[e].selectVal="ALL",z(function(){var t=O(e);if(null!=t&&t.echartRef&&setTimeout(function(){t.echartRef.resize()},100),r.value&&"iostat"===e){r.value=!1;var n=M("iostat","data");t&&n&&t.setConfig(T(n))}})}}}),Bi={class:"module-ui"},Di={class:"module-ui-header"},Ri={class:"flex justify-between items-center w-full -ml-[1.4rem]"},Ai={class:"flex items-center"},Ei={class:"flex items-center"},Fi={class:"text-tertiary font-500 text-small mr-[1.5rem] whitespace-pre"},zi={class:"module-ui-body"},Ni=l({__name:"index",setup:function(e){var t=c(!1),n=c(!1),a=l({name:"NetMonitor",setup:function(e,t){var n=t.emit,a=Mi(),r=k(a),i=r.netConfig,o=r.resource,l=(r.unitList,r.netUnit,r.netRefs);return m(function(){n("cache-status",{type:"net",cached:!0})}),function(){return S("div",{class:"home-monitor-content"},[S("div",{class:"home-monitor__stats-grid"},[Object.values(o.value.net.info).map(function(e,t){return S("div",{key:t,class:"home-monitor__stat-item"},[S("div",{class:"home-monitor__stat-content"},[S("div",{class:"home-monitor__stat-left"},[e.bgColor&&S("div",{class:"home-monitor__stat-dot-wrapper"},[S("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),S("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),S("span",{class:"home-monitor__stat-label"},[e.label])]),S("div",{class:"home-monitor__stat-right"},[S("div",{class:"home-monitor__stat-value",style:{color:e.color||"var(--el-color-text-secondary)"}},[e.value])])])])})]),S("div",{class:"home-monitor__chart-container"},[S(Oi,{ref:l,modelValue:i.value,info:o.value.net.info},null)])])}}}),r=l({name:"IostatMonitor",setup:function(e,t){var n=t.emit,a=Mi(),r=k(a),i=r.iostatConfig,o=r.resource,l=r.iostatRefs;return m(function(){n("cache-status",{type:"iostat",cached:!0})}),function(){return S("div",{class:"home-monitor-content"},[S("div",{class:"home-monitor__stats-grid"},[Object.values(o.value.iostat.info).map(function(e,t){return S("div",{key:t,class:"home-monitor__stat-item"},[S("div",{class:"home-monitor__stat-content"},[S("div",{class:"home-monitor__stat-left"},[e.bgColor&&S("div",{class:"home-monitor__stat-dot-wrapper"},[S("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),S("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),S("span",{class:"home-monitor__stat-label"},[e.label])]),S("div",{class:"home-monitor__stat-right"},[S("div",{class:"home-monitor__stat-value",style:{color:e.color||"var(--el-color-text-secondary)"}},[e.value])])])])})]),S("div",{class:"home-monitor__chart-container"},[S(Oi,{ref:l,modelValue:i.value,info:o.value.iostat.info},null)])])}}}),i=Mi(),o=k(i),s=o.loading,u=o.resource,d=o.activeName,f=_(function(){return"net"===d.value?a:r}),p=_(function(){return"net"===d.value?"正在获取流量信息，请稍候...":"正在获取磁盘IO信息，请稍候..."}),v=function(e){"net"===e.type?t.value=e.cached:"iostat"===e.type&&(n.value=e.cached)},w=function(e){d.value!==e&&(performance.now(),d.value=e,i.onTabsChange())};return m(function(){var e=localStorage.getItem("home-model-active");e&&["net","iostat"].includes(e)&&(d.value=e),i.initChart()}),function(e,t){var n=Te,a=Le,r=$("bt-loading");return h(),g("div",Bi,[b("div",Di,[b("div",Ri,[b("div",Ai,[b("div",{class:T(["tab-item",{active:"net"===y(d)},"font-alibaba-semibold"]),onClick:t[0]||(t[0]=function(e){return w("net")})},"流量",2),b("div",{class:T(["tab-item",{active:"iostat"===y(d)},"font-alibaba-semibold"]),onClick:t[1]||(t[1]=function(e){return w("iostat")})},"磁盘IO",2)]),b("div",Ei,[b("span",Fi,x("net"===y(d)?"网卡":"磁盘"),1),(h(!0),g(N,null,H(y(u),function(e,t){return Z((h(),I(a,{key:t,modelValue:e.selectVal,"onUpdate:modelValue":function(t){return e.selectVal=t},placeholder:"请选择","fit-input-width":!0,onChange:y(i).onSelectChange,size:"small",class:"!min-w-[100px] !rounded-large"},{default:C(function(){return[(h(!0),g(N,null,H(e.selectList,function(e){return h(),I(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])),[[ne,"".concat(t)==y(d)]])}),128))])])]),b("div",zi,[(h(),I(je,null,[Z((h(),I(P(y(f)),{key:y(d),"v-bt-loading:title":y(p),onCacheStatus:v},null,40,["v-bt-loading:title"])),[[r,y(s)]])],1024))])])}}}),Hi=E("RECOMMEND-STORE",function(){var e=Me().payment,t=f(e.value),n=t.authType,a=t.authExpirationTime,r=c(!1),i=c([["time","5分钟极速响应"],["refund","15天无理由退款"],["plunge","30+款付费插件"],["function","20+企业版专享功能"],["certificate","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),o=c([["speed","5分钟极速响应"],["fifteen","15天无理由退款"],["plugin","30+款付费插件"],["more","20+企业版专享功能"],["recom","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),l=c(["多对一技术支持","全年5次安全排查","5分钟极速响应","30+款付费插件","20+企业版专享功能","1000条免费短信（年付）","2张SSL商用证书（年付）","一对一服务（年付）","WAF防火墙","更换授权IP","客服优先响应","15+款付费插件","15天无理由退款"]),s=c([0,0,0,0,0,0,0,0,1,1,1,1,1]),u=c([0,0,1,1,1,1,1,1,1,1,1,1,1]),d=c([1,1,1,1,1,1,1,1,1,1,1,1,1]),m=c(!1),p=c(!0);return{plusPrivilegeList:d,ltdPrivilegeList:u,proPrivilegeList:s,privilegeList:l,limitTimeShow:m,advantageList:i,newAdvantageList:o,recommendShow:p,showPrivilege:r,authType:n,authExpirationTime:a,setRecommendHide:function(e){var t=((new Date).getTime()+864e5*e).toString();localStorage.setItem("HOME-RECOMMEND-HIDE-TIME",t),p.value=!1},checkRecommendHide:function(){var e=parseInt(localStorage.getItem("HOME-RECOMMEND-HIDE-TIME")||"0");e&&(p.value=e<(new Date).getTime())},openProduct:function(e){return Tt({sourceId:e,disablePro:!0})}}}),Vi={key:0,class:"h-auto"},Ui={class:"absolute left-0 right-0 flex items-center px-[16px]"},Wi={class:"advantage-list"},Gi={class:"text-tertiary text-base"},qi={class:"absolute left-0 right-0 flex items-center px-[16px]"},Ki={class:"flex items-center"},$i={class:"relative mr-[2rem]"},Ji={class:"advantage-list"},Zi={class:"text-tertiary text-base"},Qi={class:"p-[24px] flex justify-center flex-col items-center"},Yi={class:"flex items-center mt-[20px]"},Xi={class:"flex-col items-center border border-base justify-center w-[22rem]"},eo={class:"flex flex-col text-base text-secondary function-text"},to={class:"flex-col border border-[var(--bt-pro-border-color)] items-center bg-[var(--bt-pro-bg-color)] justify-center w-[22rem]"},no={class:"text-extraLarge text-default font-medium h-[9.4rem] leading-[9.4rem] text-center"},ao={class:"flex flex-col text-base text-secondary pro-text"},ro={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},io={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},oo={key:0,class:"recommend-left"},lo={class:"text-[var(--bt-ltd-sub-bg-color)] flex justify-center font-bold"},so={class:"flex flex-col text-base text-secondary ltd-text"},uo={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},co={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},fo={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},mo={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},po=l({__name:"index",setup:function(e){var t=Me(),n=(t.forceLtd,t.aliyunEcsLtd),a=t.authRemainingDays,r=t.ltdRemarks,i=Hi(),o=k(i),l=o.plusPrivilegeList,u=o.ltdPrivilegeList,c=o.proPrivilegeList,d=o.privilegeList,f=o.limitTimeShow,p=o.recommendShow,v=o.showPrivilege,_=o.authType,I=o.authExpirationTime;return m(function(){i.checkRecommendHide()}),function(e,t){var o=We,m=Ht,k=gt,P=bt;return y(p)&&!y(n)?(h(),g("div",Vi,["ltd"===y(_)?(h(),g("div",{key:0,class:"advantage-view",onMouseover:t[2]||(t[2]=function(e){return f.value=!0}),onMouseleave:t[3]||(t[3]=function(e){return f.value=!1})},[b("div",Ui,[b("div",{class:"flex items-center text-base mr-[3rem] flex-shrink-0 cursor-pointer",onClick:t[0]||(t[0]=function(e){return y(i).openProduct(28)})},[t[11]||(t[11]=b("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center ltd-title-edit"},[b("span",{class:"text-base pl-[2.4rem] font-bold !text-[#fff]"}," 企业版 ")],-1)),b("span",{class:T({"text-danger":y(a)<7,"text-warning":y(a)>=7,"ml-[8px]":!0,"font-bold":!0})},x(y(ht)(y(I),"yyyy-MM-dd")),3),S(o,{class:"ml-[8px]",size:"13px"},{default:C(function(){return s(t[10]||(t[10]=[j("续费",-1)]))}),_:1})]),b("div",Wi,[(h(!0),g(N,null,H(y(r),function(e,t){return h(),g("div",{class:"advantage-item",key:t},[S(m,{name:"tools-".concat(e[0].split("_")[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),b("span",Gi,x(e[1]),1)])}),128))])]),Z(b("div",{class:"day-not-display",onClick:t[1]||(t[1]=function(e){return y(i).setRecommendHide(3)})},s(t[12]||(t[12]=[b("i",{class:"svgtofont-el-close"},null,-1),b("span",null,"近3天不再显示",-1)])),512),[[ne,y(f)]])],32)):"free"===y(_)?(h(),g("div",{key:1,class:"advantage-view",onMouseover:t[6]||(t[6]=function(e){return f.value=!0}),onMouseleave:t[7]||(t[7]=function(e){return f.value=!1})},[b("div",qi,[b("div",Ki,[b("div",$i,[b("button",{class:"product-payment-btn",onClick:t[4]||(t[4]=function(e){return y(i).openProduct(27)})},s(t[13]||(t[13]=[b("span",{class:"ml-[1.2rem text-base"}," 立即开通 ",-1)])))]),t[14]||(t[14]=b("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center mr-[8px]"},[b("span",{class:"text-medium ml-[.4rem] mr-[2rem] pl-[3rem] font-bold"}," 企业版VIP特权 ")],-1))]),b("div",Ji,[(h(!0),g(N,null,H(y(r),function(e,t){return h(),g("div",{class:"advantage-item",key:t},[S(m,{name:"tools-".concat(e[0].split("_")[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),b("span",Zi,x(e[1]),1)])}),128))])]),Z(b("div",{class:"day-not-display",onClick:t[5]||(t[5]=function(e){return y(i).setRecommendHide(1)})},s(t[15]||(t[15]=[b("i",{class:"svgtofont-el-close"},null,-1),j("近24小时不再显示",-1)])),512),[[ne,y(f)]])],32)):w("",!0),S(P,{modelValue:y(v),"onUpdate:modelValue":t[9]||(t[9]=function(e){return q(v)?v.value=e:null}),area:96},{default:C(function(){return[b("div",Qi,[S(k,{src:"/advantage/privilege-contrast.png"}),b("div",Yi,[b("div",Xi,[t[16]||(t[16]=b("p",{class:"text-extraLarge text-default font-bold h-[9.4rem] leading-[9.4rem] text-center"},"功能特权",-1)),b("ul",eo,[(h(!0),g(N,null,H(y(d),function(e,t){return h(),g("li",{class:"px-[24px] h-[4rem] leading-[4rem]",key:t},x(e),1)}),128))])]),b("div",to,[b("div",no,[b("p",null,[S(k,{src:"/advantage/privilege-pro.svg",class:"mr-[8px]"}),t[17]||(t[17]=j("专业版",-1))])]),b("ul",ao,[(h(!0),g(N,null,H(y(c),function(e,t){return h(),g("li",{class:"px-[24px] h-[4rem] leading-[4rem] text-center",key:t},[e?(h(),g("i",io)):(h(),g("i",ro))])}),128))])]),(h(),g(N,null,H(2,function(e,n){return b("div",{class:T(["w-[22rem] bg-[var(--bt-ltd-bg-color)] flex-col relative",n?"":"border-2 border-darkSecondary h-[64.6rem] shadow"]),key:n},[0===n?(h(),g("span",oo)):w("",!0),b("div",{class:T(["text-extraLarge flex flex-col justify-center items-center",n?" h-[9.4rem]":" h-[11rem]"])},[b("div",lo,[S(k,{class:"mr-[8px]",src:"/advantage/privilege-diamond.svg"}),b("span",{class:T(n?"":"linear")},x(n?"企业运维托管":"企业版"),3)]),b("button",{class:T(["px-[20px] py-[4px]",n?"linear text-border privilege-button font-bold":"button-linear privilege-button"]),onClick:t[8]||(t[8]=function(e){return y(i).openProduct(45)})},"立即购买",2)],2),b("ul",so,[0===n?(h(!0),g(N,{key:0},H(y(u),function(e,t){return h(),g("li",{key:t},[e?(h(),g("i",co)):(h(),g("i",uo))])}),128)):w("",!0),0!=n?(h(!0),g(N,{key:1},H(y(l),function(e,t){return h(),g("li",{key:t},[e?w("",!0):(h(),g("i",fo)),e?(h(),g("i",mo)):w("",!0)])}),128)):w("",!0)])],2)}),64))])])]}),_:1},8,["modelValue"])])):w("",!0)}}}),vo=Fe(po,[["__scopeId","data-v-44adae4e"]]),yo={class:"pt-[1.2rem]"},ho=l({__name:"index",setup:function(e){var t=Me(),n=t.getAlarmData,r=t.payment,i=t.paymentVoucherType,o=t.aliyunEcsLtd,l=t.getUserInfo,s=t.isHideAd,u=t.panel,x=t.getSoftRemarks,_=Wt(),P=k(_).panelInfo,j=f(P.value).isRestart,T=F(),L=Oe(),O=c(null),M=c(0);se(O,function(e){var t=e[0];M.value=t.contentRect.width});var B=null;return A(function(){return u.value.initInstall},function(e){if(!e){if(o.value&&"free"===r.value.authType)return;_.recommendInstallDialog()}},{immediate:!0,deep:!0}),A(function(){return u.value.oem},function(e){e&&Ft()},{immediate:!0}),m(p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:if("bind-cupon"!==L.query.model){e.n=2;break}return delete(t=a({},L.query)).model,T.replace({path:L.path,query:t}),e.n=1,l();case 1:Tt({disablePro:!0,sourceId:999}),i.value=0;case 2:_.monitorLoginInfo(),B=xt({idle:36e5,request:function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_.getSystemInfo();case 1:return e.a(2,j.value)}},e)}));return function(){return e.apply(this,arguments)}}(),timeout:3e3,retries:3}),_.getHomeConfig(),kt({promises:[n,_.getUpdateInfoNew,x],delay:1e3});case 3:return e.a(2)}},e)}))),v(function(){var e;null===(e=B)||void 0===e||e.stop(),wt(["/system?action=GetNetWork","/panel/overview/GetOverview","/plugin?action=get_index_list","/ajax?action=get_pay_type","/mod/push/task/get_task_list","/auth?action=get_coupon_list"])}),function(e,t){var n=ce,a=de;return h(),g("section",yo,[S(pn,{class:"mx-[1.2rem]"}),S(a,{span:24},{default:C(function(){return[S(n,{span:24},{default:C(function(){return[S(kn),b("div",{ref_key:"stateMainRef",ref:O},[S(Ar,{class:"px-[1.2rem]","main-width":y(M)},null,8,["main-width"])],512),S(ri)]}),_:1})]}),_:1}),S(a,{span:24,class:"px-[1.2rem]"},{default:C(function(){return[S(a,{span:24,gutter:12,class:"flex-1"},{default:C(function(){return[S(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:C(function(){return[S(Ni,{class:"mb-0 monitor-view"})]}),_:1}),S(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:C(function(){return[S(ji,{class:"mb-0 software-view"})]}),_:1})]}),_:1})]}),_:1}),y(s)?w("",!0):(h(),I(vo,{key:0,class:"mt-[1.2rem] mx-[1.2rem]"}))])}}}),go=Fe(ho,[["__scopeId","data-v-7e77d484"]]),bo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));n("i",bo)}}})}();
