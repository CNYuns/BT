<!doctype html><html lang="zh"><head><meta charset="utf-8"><meta content="IE=edge"><meta name="referer" content="never"><meta name="referer" content="no-referrer"><meta name="renderer" content="webkit"><title>{{g.title}}</title><link rel="shortcut icon" href="{{g['panel_theme']['logo']['favicon']}}" type="image/x-icon"><script>// 立即执行，不等待 JS 加载,避免闪屏
		(function() {
		  var theme = localStorage.getItem('color-scheme');
		  var systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
		  if (theme === 'dark' || (!theme && systemDark)) {
			document.documentElement.classList.add('dark');
		  }
		})();</script><script>
		// WAF安装调试日志 - 前端控制台输出
		(function() {
			console.log('[WAF-DEBUG] 页面初始化开始');
			console.log('[WAF-DEBUG] 当前URL:', window.location.href);
			console.log('[WAF-DEBUG] 当前路径:', window.location.pathname);

			// 拦截所有点击事件
			document.addEventListener('click', function(e) {
				var target = e.target;
				var btnText = target.innerText || target.textContent || '';
				var className = target.className || '';
				var id = target.id || '';
				var tagName = target.tagName || '';

				// 记录所有按钮点击
				if (tagName === 'BUTTON' || className.indexOf('btn') !== -1 || btnText.indexOf('安装') !== -1 || btnText.indexOf('install') !== -1) {
					console.log('[WAF-DEBUG] 按钮点击事件:', {
						tagName: tagName,
						id: id,
						className: className,
						text: btnText.substring(0, 50),
						target: target
					});
				}

				// 特别记录"立即安装"按钮
				if (btnText.indexOf('立即安装') !== -1 || btnText.indexOf('安装') !== -1) {
					console.log('[WAF-DEBUG] ★ 安装按钮被点击 ★', {
						element: target,
						parentElement: target.parentElement,
						事件是否被阻止: e.defaultPrevented,
						事件是否冒泡: e.bubbles
					});
				}
			}, true);

			// 拦截所有 XMLHttpRequest
			var originalXHROpen = XMLHttpRequest.prototype.open;
			var originalXHRSend = XMLHttpRequest.prototype.send;

			XMLHttpRequest.prototype.open = function(method, url) {
				this._wafDebugUrl = url;
				this._wafDebugMethod = method;
				if (url && (url.indexOf('plugin') !== -1 || url.indexOf('install') !== -1 || url.indexOf('waf') !== -1)) {
					console.log('[WAF-DEBUG] XHR请求打开:', method, url);
				}
				return originalXHROpen.apply(this, arguments);
			};

			XMLHttpRequest.prototype.send = function(data) {
				var self = this;
				if (this._wafDebugUrl && (this._wafDebugUrl.indexOf('plugin') !== -1 || this._wafDebugUrl.indexOf('install') !== -1)) {
					console.log('[WAF-DEBUG] XHR请求发送:', this._wafDebugMethod, this._wafDebugUrl, '数据:', data);

					this.addEventListener('load', function() {
						console.log('[WAF-DEBUG] XHR响应:', self._wafDebugUrl, '状态:', self.status, '响应:', self.responseText.substring(0, 500));
					});
					this.addEventListener('error', function() {
						console.log('[WAF-DEBUG] XHR错误:', self._wafDebugUrl);
					});
				}
				return originalXHRSend.apply(this, arguments);
			};

			// 拦截 fetch 请求
			var originalFetch = window.fetch;
			window.fetch = function(url, options) {
				if (url && (url.indexOf('plugin') !== -1 || url.indexOf('install') !== -1 || url.indexOf('waf') !== -1)) {
					console.log('[WAF-DEBUG] Fetch请求:', url, options);
				}
				return originalFetch.apply(this, arguments).then(function(response) {
					if (url && (url.indexOf('plugin') !== -1 || url.indexOf('install') !== -1)) {
						console.log('[WAF-DEBUG] Fetch响应:', url, '状态:', response.status);
					}
					return response;
				}).catch(function(error) {
					console.log('[WAF-DEBUG] Fetch错误:', url, error);
					throw error;
				});
			};

			console.log('[WAF-DEBUG] 调试拦截器已安装');
		})();
		</script><script>this.globalThis || (this.globalThis = this)
			; (function () {
				window.vite_public_title = '{{g.title}}' // 网站标题
				window.vite_public_menu = '{{g.menus}}' // 菜单栏目
				window.vite_public_debug = '{{g['debug']}}' // 是否开启调试模式
				window.vite_public_pyversion = '{{g['pyversion']}}' // python版本
				window.vite_public_version = '{{session['version']}}' // 当前本地版本号
				window.vite_public_ip = '{{session['address']}}' // 当前服务器IP地址
				window.vite_public_brand = '{{session['brand']}}' // 品牌
				window.vite_public_product = '{{session['product']}}' // 产品
				window.vite_public_year = '{{g['yaer']}}' // 年份
				window.vite_public_cdn_url = '{{g.cdn_url}}' // cdn地址
				window.vite_public_request_token = '{{session[g.get_csrf_html_token_key]}}' // csrf_token
				window.vite_public_soft_flush = '{{session['is_flush_soft_list']}}' // 是否刷新软件列表，解决缓存问题
				window.vite_public_encryption = '{{session['rsa_public_key']}}' // rsa加密公钥
				window.vite_public_proxy_key = '' // 代理服务信息
				window.vite_public_proxy_ip = '192.168.1.196' // 代理服务信息
				window.vite_public_proxy_port = '8888' // 代理服务信息
				window.vite_public_panel_type = '{{g['other_js']}}' // 面板类型
				window.vite_public_file_version = '%VERSION-NUMBER%' // 当前版本随机数，用于编译替换
				window.vite_public_panel_theme = JSON.parse('{{g['panel_theme']}}'.replace(/\&\#39;/g, '"').replace(/\&\#34;/g, '"').replace(/True/g, 'true').replace(/False/g, 'false')) // 主题信息

				// 禁止后退
				function blockHist() {
					if (window.history && window.history.pushState) {
						window.onpopstate = function () {
							window.history.pushState('forward', null, '')
							window.history.forward(1)
						}
					}
					window.history.pushState('forward', null, '') //在IE中必须得有这两行
					window.history.forward(1)
				}
				// 跳转处理
				blockHist()
			})()</script><script type="module" crossorigin src="./static/js/main.js?v=1764728423"></script><link rel="stylesheet" crossorigin href="./static/css/style.css?v=1764728423"><script type="module">import.meta.url;import("_").catch(()=>1);(async function*(){})().next();if(location.protocol!="file:"){window.__vite_is_modern_browser=true}</script><script type="module">!function(){if(window.__vite_is_modern_browser)return;console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}();</script></head><body><div id="root"></div><script nomodule>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script><script nomodule crossorigin id="vite-legacy-polyfill" src="./static/js/polyfills-legacy.js?v=1764728423"></script><script nomodule crossorigin id="vite-legacy-entry" data-src="./static/js/main-legacy.js?v=1764728423">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script></body></html>